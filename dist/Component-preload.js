//@ui5-bundle zfioritimesheet3/zfioritimesheet3n/Component-preload.js
jQuery.sap.registerPreloadedModules({
"version":"2.0",
"modules":{
	"zfioritimesheet3/zfioritimesheet3n/Component.js":function(){sap.ui.define(["sap/ui/core/UIComponent","sap/ui/model/json/JSONModel","zfioritimesheet3/zfioritimesheet3n/model/models"],function(e,t,i){"use strict";return e.extend("zfioritimesheet3.zfioritimesheet3n.Component",{metadata:{manifest:"json"},init:function(){sap.ui.core.BusyIndicator.show();e.prototype.init.apply(this,arguments);this.getRouter().initialize();this.setModel(i.createDeviceModel(),"device");var s="mainService",o=this.getModel(s);this.setModel(o,s);var a="jsonService",n=new t;n.setData({flagExecuted:false,people:[]});this.setModel(n,a);var r="jsonManagerService",l=new t;l.setData({flagExecuted:false,people:[]});this.setModel(l,r);var d="jsonTeamEventsService",p=new t;p.setData({appointments:[]});this.setModel(p,d)}})});
},
	"zfioritimesheet3/zfioritimesheet3n/controller/ViewMain.controller.js":function(){sap.ui.define(["sap/ui/core/mvc/Controller","sap/ui/core/library","sap/ui/core/Fragment","sap/ui/model/Filter","sap/ui/core/format/DateFormat","sap/m/MessageToast","sap/m/MessageBox"],function(e,t,a,r,s,i,o){var n=t.ValueState;"use strict";return e.extend("zfioritimesheet3.zfioritimesheet3n.controller.ViewMain",{onInit:function(){var e=this,t="mainService",a="jsonService",i="jsonTeamEventsService",o=this.getOwnerComponent().getModel(t),n=this.getOwnerComponent().getModel(a),l=this.getOwnerComponent().getModel(i),d=new Date;var g=n.getProperty("/flagExecuted");if(g){sap.ui.core.BusyIndicator.hide();return false}n.setProperty("/flagExecuted",true);n.refresh();o.read("/UserDataSet('STEFANLU')",{success:function(t){var a="/people",i=n.getProperty(a),g;if(t.FlgManager){g={key:t.Uname,key2:t.Pernr,title:t.Uname,text:t.Unamex,icon:"sap-icon://leads",manager:true,appointments:[]}}else{g={key:t.Uname,key2:t.Pernr,title:t.Uname,text:t.Unamex,icon:"sap-icon://employee",manager:false,appointments:[]}}i.push(g);if(!n.setProperty(a,i)){e.showLogInError();return false}var u=s.getDateInstance({pattern:"yyyy-MM-dd",UTC:false}),p=u.format(new Date(d.getFullYear(),d.getMonth()-1,d.getDate())),h=u.format(new Date(d.getFullYear(),d.getMonth()+1,d.getDate())),m=new r({filters:[new r({path:"InputUname",operator:sap.ui.model.FilterOperator.EQ,value1:t.Uname}),new r({path:"InputPernr",operator:sap.ui.model.FilterOperator.EQ,value1:t.Pernr}),new r({path:"InputTsSearchFrom",operator:sap.ui.model.FilterOperator.EQ,value1:p}),new r({path:"InputTsSearchTo",operator:sap.ui.model.FilterOperator.EQ,value1:h})],and:true}),c="";c=m;o.read("/UserEventSet",{filters:[c],success:function(a){var r="/people/"+i.findIndex(e=>e.key==t.Uname)+"/appointments",s="/appointments",o=n.getProperty(r),d=[],g,u;for(u=0;u<a.results.length;u++){if(a.results[u].Tasktype=="AS01")a.results[u].Catshours="0.00";var p=new Date(a.results[u].Workdate),h,m,c;h=e.dateToYyyyMmDd(p)+"T"+e.msToTime(a.results[u].Beguz.ms);m=e.dateToYyyyMmDd(p)+"T"+e.msToTime(a.results[u].Enduz.ms);switch(a.results[u].Status){case"10":if(a.results[u].Tasklevel=="LAV005"){c="Type01"}else{c="Type08"}break;case"20":if(a.results[u].Tasklevel=="LAV005"){c="Type02"}else{c="Type09"}break;case"30":if(a.results[u].Tasklevel=="LAV005"){c="Type06"}else{c="Type10"}break;case"40":if(a.results[u].Tasklevel=="LAV005"){c="Type03"}else{c="Type11"}break;case"50":if(a.results[u].Tasklevel=="LAV005"){c="Type04"}else{c="Type12"}break;case"60":if(a.results[u].Tasklevel=="LAV005"){c="Type05"}else{c="Type13"}break;default:c="Type07"}g={key:a.results[u].Counter,title:a.results[u].Post1,text:a.results[u].Tasklevelx,description:a.results[u].Ltxa1,longDescription:a.results[u].LongText,startDate:h,endDate:m,icon:"sap-icon://activity-2",selected:false,tentative:false,type:c,user:a.results[u].Uname,userPernr:a.results[u].Pernr,wbs:a.results[u].Posid,wbsDescription:a.results[u].Post1};if(a.results[u].Uname!=t.Uname||a.results[u].Pernr!=t.Pernr){d.push(g)}else{o.push(g)}}if(n.setProperty(r,o)&&l.setProperty(s,d)){n.refresh();l.refresh();sap.ui.core.BusyIndicator.hide()}else{e.showLogInError()}},error:function(t){e.showLogInError(t)}})},error:function(t){e.showLogInError(t)}})},onBeforeRendering:function(){var e=this,t=e.getView(),a=t.byId("planCaleMain"),r=new Date;if(a){if(this.getOwnerComponent().byId("container-zfiori_timesheet_3n---app--planCaleMain-Header-ViewSwitch"))this.getOwnerComponent().byId("container-zfiori_timesheet_3n---app--planCaleMain-Header-ViewSwitch").setWidth("350px");if(this.getOwnerComponent().byId("container-zfiori_timesheet_3n---ViewMain--planCaleMain-Header-ViewSwitch"))this.getOwnerComponent().byId("container-zfiori_timesheet_3n---ViewMain--planCaleMain-Header-ViewSwitch").setWidth("350px");if(this.getOwnerComponent().byId("application-ZPS_CAT-display-component---app--planCaleMain-Header-ViewSwitch"))this.getOwnerComponent().byId("application-ZPS_CAT-display-component---app--planCaleMain-Header-ViewSwitch").setWidth("350px");if(this.getOwnerComponent().byId("application-ZPS_CAT-display-component---ViewMain--planCaleMain-Header-ViewSwitch"))this.getOwnerComponent().byId("application-ZPS_CAT-display-component---ViewMain--planCaleMain-Header-ViewSwitch").setWidth("350px");a.setStartDate(new Date(r.getFullYear(),r.getMonth(),r.getDate(),1));a.setMinDate(new Date(r.getFullYear(),r.getMonth(),1));a.setMaxDate(new Date(r.getFullYear(),r.getMonth()+1,0,23,59,59,999))}},onPressBtnViewManager:function(){var e=sap.ui.core.UIComponent.getRouterFor(this);if(e)e.navTo("RouteViewManager",null,true)},msToTime:function(e){var t=(e,t=2)=>("00"+e).slice(-t);return t(e/36e5|0)+":"+t(e%36e5/6e4|0)+":"+t(e%6e4/1e3|0)+"."+t(e%1e3,3)},hoursToMs:function(e){return e*36e5},dateToYyyyMmDd:function(e){return new Date(e.getTime()-e.getTimezoneOffset()*6e4).toISOString().split("T")[0]},dateToString:function(e){if(e)return e.getDate().toString().padStart(2,"0")+"/"+(e.getMonth()+1).toString().padStart(2,"0")+"/"+e.getFullYear().toString().substring(2,4).padStart(2,"0")+", "+e.getHours().toString().padStart(2,"0")+":"+e.getMinutes().toString().padStart(2,"0")},formatDateToMediumString:function(e){return s.getDateInstance({style:"medium"}).format(e)},formatDateString:function(e){return new Date(e)},timeStringToDecimal:function(e){return e.split(":").map(function(e){return parseInt(e,10)}).reduce(function(e,t,a){return e+t/Math.pow(60,a)})},roundTo2DecimalsString:function(e){var t=e>=0?1:-1;return(Math.round(e*Math.pow(10,2)+t*.001)/Math.pow(10,2)).toFixed(2).toString()},formatSpecialDateStartDate:function(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate(),0,0,0,0)},formatSpecialDateEndDate:function(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate(),23,59,59,999)},showLogInError:function(e){var t=this.getView(),a=this.getOwnerComponent().getModel("i18n").getResourceBundle(),r="sapUiResponsivePadding--header sapUiResponsivePadding--content sapUiResponsivePadding--footer",s;t.byId("inputNoEditAuthLevel").setValue("---");if(e){try{s="<p><strong>"+a.getText("messageBoxErrorDetailsText")+"</strong><br/>"+JSON.parse(e.responseText).error.innererror.errordetails[0].message+"</p>"}catch(t){s="<p><strong>"+a.getText("messageBoxErrorDetailsText")+"</strong><br/>"+e.responseText+"</p>"}o.error(a.getText("messageBoxLogInError"),{title:a.getText("messageBoxLogInErrorTitle"),details:s,styleClass:!jQuery.support.touch?r:""})}else{o.error(a.getText("messageBoxLogInError"),{title:a.getText("messageBoxLogInErrorTitle"),styleClass:!jQuery.support.touch?r:""})}},showWbsPrefError:function(e,t){var a="sapUiResponsivePadding--header sapUiResponsivePadding--content sapUiResponsivePadding--footer",r=this.getOwnerComponent().getModel("i18n").getResourceBundle(),s;try{s="<p><strong>"+r.getText("messageBoxErrorDetailsText")+"</strong><br/>"+JSON.parse(e.responseText).error.innererror.errordetails[0].message+"</p>"}catch(t){s="<p><strong>"+r.getText("messageBoxErrorDetailsText")+"</strong><br/>"+e.responseText+"</p>"}if(t=="C"){o.error(r.getText("messageBoxWbsPrefErrorCreate"),{title:r.getText("messageBoxWbsPrefErrorTitle"),details:s,styleClass:!jQuery.support.touch?a:""})}else if(t=="D"){o.error(r.getText("messageBoxWbsPrefErrorDelete"),{title:r.getText("messageBoxWbsPrefErrorTitle"),details:s,styleClass:!jQuery.support.touch?a:""})}},showWbsPrefErrorMoreItems:function(){var e="sapUiResponsivePadding--header sapUiResponsivePadding--content sapUiResponsivePadding--footer",t=this.getOwnerComponent().getModel("i18n").getResourceBundle();o.error(t.getText("messageBoxWbsPrefErrorMoreItems"),{title:t.getText("messageBoxWbsPrefErrorTitle"),styleClass:!jQuery.support.touch?e:""})},showWbsPrefErrorNotPreferred:function(){var e="sapUiResponsivePadding--header sapUiResponsivePadding--content sapUiResponsivePadding--footer",t=this.getOwnerComponent().getModel("i18n").getResourceBundle();o.error(t.getText("messageBoxWbsPrefErrorNotPreferred"),{title:t.getText("msgError"),styleClass:!jQuery.support.touch?e:""})},showErrorNotEditable:function(){var e="sapUiResponsivePadding--header sapUiResponsivePadding--content sapUiResponsivePadding--footer",t=this.getOwnerComponent().getModel("i18n").getResourceBundle();o.error(t.getText("msgErrorNotEditable"),{title:t.getText("msgError"),styleClass:!jQuery.support.touch?e:""})},showDeleteError:function(e){var t=this.getOwnerComponent().getModel("i18n").getResourceBundle(),a="sapUiResponsivePadding--header sapUiResponsivePadding--content sapUiResponsivePadding--footer",r;try{r="<p><strong>"+t.getText("messageBoxErrorDetailsText")+"</strong><br/>"+JSON.parse(e.responseText).error.innererror.errordetails[0].message+"</p>"}catch(a){r="<p><strong>"+t.getText("messageBoxErrorDetailsText")+"</strong><br/>"+e.responseText+"</p>"}o.error(t.getText("msgErrorDeleteText"),{title:t.getText("msgError"),details:r,styleClass:!jQuery.support.touch?a:""})},showUpdateError:function(e){var t=this.getOwnerComponent().getModel("i18n").getResourceBundle(),a="sapUiResponsivePadding--header sapUiResponsivePadding--content sapUiResponsivePadding--footer",r;try{r="<p><strong>"+t.getText("messageBoxErrorDetailsText")+"</strong><br/>"+JSON.parse(e.responseText).error.innererror.errordetails[0].message+"</p>"}catch(a){r="<p><strong>"+t.getText("messageBoxErrorDetailsText")+"</strong><br/>"+e.responseText+"</p>"}o.error(t.getText("msgErrorUpdateText"),{title:t.getText("msgError"),details:r,styleClass:!jQuery.support.touch?a:""})},showCreateError:function(e){var t=this.getOwnerComponent().getModel("i18n").getResourceBundle(),a="sapUiResponsivePadding--header sapUiResponsivePadding--content sapUiResponsivePadding--footer",r;try{r="<p><strong>"+t.getText("messageBoxErrorDetailsText")+"</strong><br/>"+JSON.parse(e.responseText).error.innererror.errordetails[0].message+"</p>"}catch(a){r="<p><strong>"+t.getText("messageBoxErrorDetailsText")+"</strong><br/>"+e.responseText+"</p>"}o.error(t.getText("msgErrorCreateText"),{title:t.getText("msgError"),details:r,styleClass:!jQuery.support.touch?a:""})},showUnknownError:function(e){var t=this.getOwnerComponent().getModel("i18n").getResourceBundle(),a="sapUiResponsivePadding--header sapUiResponsivePadding--content sapUiResponsivePadding--footer",r;try{r="<p><strong>"+t.getText("messageBoxErrorDetailsText")+"</strong><br/>"+JSON.parse(e.responseText).error.innererror.errordetails[0].message+"</p>"}catch(a){r="<p><strong>"+t.getText("messageBoxErrorDetailsText")+"</strong><br/>"+e.responseText+"</p>"}o.error(t.getText("msgGeneralErrorText"),{title:t.getText("msgError"),details:r,styleClass:!jQuery.support.touch?a:""})},onPressBtnWbs:function(e){var t=e.getSource(),r=this.getView();if(!this._pDialog){this._pDialog=a.load({id:r.getId(),name:"zfioritimesheet3.zfioritimesheet3n.view.FragmentWbs",controller:this}).then(function(e){r.addDependent(e);return e})}this._pDialog.then(function(e){this._configDialogWbs(t,e);if(e)e.open()}.bind(this))},_configDialogWbs:function(e,t){var a=e.data("responsivePadding"),s="sapUiResponsivePadding--header sapUiResponsivePadding--subHeader sapUiResponsivePadding--content sapUiResponsivePadding--footer",i=this.getOwnerComponent().getModel("i18n").getResourceBundle(),o=t._getCancelButton();if(a){t.addStyleClass(s)}else{t.removeStyleClass(s)}o.setText(i.getText("textBtnCloseWbs"));o.setTooltip(i.getText("tooltipBtnCloseWbs"));var n=this.getView().byId("tableSelectDialogWbs"),l,d=new r({filters:[new r({path:"InputExtractOnlyPrefWbs",operator:sap.ui.model.FilterOperator.EQ,value1:"X"})]}),g=this.byId("btnShowAllWbs");g.setPressed(false);l=n.getBinding("items");l.filter([d])},handleSearchTableSelectDialogWbs:function(e){sap.ui.core.BusyIndicator.show();var t=e.getParameter("value"),a=new r({filters:[new r({path:"InputPosid",operator:sap.ui.model.FilterOperator.EQ,value1:t}),new r({path:"InputPost1",operator:sap.ui.model.FilterOperator.EQ,value1:t}),new r({path:"InputSearch",operator:sap.ui.model.FilterOperator.EQ,value1:"X"})],and:true}),s=e.getSource().getBinding("items");s.filter([a]);sap.ui.core.BusyIndicator.hide()},handleCloseTableSelectDialogWbs:function(e){var t=e.getSource().getBinding("items");t.filter([])},handleSelectTableSelectDialogWbs:function(e){sap.ui.core.BusyIndicator.show();var t=this.getOwnerComponent().getModel("mainService"),a=e.getSource().getBinding("items"),r=e.getParameters("selectedItems").selectedItems,s,i;a.filter([]);if(r.length>1){sap.ui.core.BusyIndicator.hide();that.showWbsPrefErrorMoreItems();return false}s=r[0];i=t.getProperty(s.getBindingContextPath());if(!i.Pref){sap.ui.core.BusyIndicator.hide();this.showWbsPrefErrorNotPreferred();return false}this._arrangeDialogFragmentCreateWithWbs(i)},_arrangeDialogFragmentCreateWithWbs:function(e){sap.ui.core.BusyIndicator.show();var t=this.getView();if(!this._pNewAppointmentDialog){this._pNewAppointmentDialog=a.load({id:t.getId(),name:"zfioritimesheet3.zfioritimesheet3n.view.FragmentCreazione",controller:this}).then(function(e){t.addDependent(e);return e})}this._pNewAppointmentDialog.then(function(t){this._arrangeDialogCreateWithWbs(t,e)}.bind(this))},_arrangeDialogCreateWithWbs:function(e,t){var a="",r=this.getOwnerComponent().getModel("i18n").getResourceBundle(),s=this.byId("dipName"),i=this.byId("actType"),o=this.byId("wbsType"),l=this.byId("createStartDate"),d=this.byId("createEndDate"),g=this.byId("createGiornoDate"),u=this.byId("oreLavorate"),p=this.byId("appTitle"),h=this.byId("moreInfo");s.setValueState(n.None);i.setValueState(n.None);o.setValueState(n.None);l.setValueState(n.None);d.setValueState(n.None);g.setValueState(n.None);u.setValueState(n.None);p.setValueState(n.None);h.setValueState(n.None);this._setCreateAppointmentDialogContentCreateWithWbs(t);a=r.getText("titleCreateAppointmentDialog");e.setTitle(a);e.open();sap.ui.core.BusyIndicator.hide()},_setCreateAppointmentDialogContentCreateWithWbs:function(e){var t=this.getOwnerComponent().getModel("jsonService"),a=this.getView().byId("planCaleMain"),r,i=this.byId("createStartDate"),o=this.byId("createEndDate"),n=this.byId("createGiornoDate"),l=this.byId("appTitle"),d=this.byId("moreInfo"),g=this.byId("dipName"),u=this.byId("actType"),p=this.byId("wbsType"),h="LAV005",m="Lavoro",c,y,f,b,v,D,I=this.getOwnerComponent().getModel("paramModel"),T=t.getProperty("/people/0");if(a._dateNav._start){r=a._dateNav._start}else{r=new Date}if(I){if(I.oData){f=I.oData.startDate;b=I.oData.endDate;v=f.getHours().toString().padStart(2,"0")+":"+f.getMinutes().toString().padStart(2,"0");D=b.getHours().toString().padStart(2,"0")+":"+b.getMinutes().toString().padStart(2,"0");c=Math.abs(this.timeStringToDecimal(D)-this.timeStringToDecimal(v));if(c>0){y=this.roundTo2DecimalsString(c)}else{y=""}I.setData(null);I.updateBindings(true)}else{f=r;b=r;y=""}}else{f=r;b=r;y=""}var S=new Date(f),V=new Date(b);var t=this.getOwnerComponent().getModel("jsonService");g.setValue(T.text);var w={userPernr:T.key2,user:T.key};var x=new sap.ui.model.json.JSONModel;x.setData(w);this.getOwnerComponent().setModel(x,"keyModel");var E=s.getDateTimeInstance({style:"medium"}).format(S);var P=s.getDateTimeInstance({style:"medium"}).format(V);var C=s.getDateInstance({style:"medium"}).format(S);i.setValue(E);o.setValue(P);n.setValue(C);l.setValue("");d.setValue("");u.setValue(m);u.setSelectedItem(h);u.setSelectedKey(h);p.setValue(e.Post1);p.setSelectedItem(e.Rproj);p.setSelectedKey(e.Rproj);p.setEditable(true);this.getView().byId("lCreateStartDate").setVisible(false);i.setVisible(false);this.getView().byId("lCreateEndDate").setVisible(false);o.setVisible(false);this.getView().byId("lGiornoDate").setVisible(true);n.setVisible(true);this.getView().byId("lOreLavorate").setVisible(true);this.getView().byId("oreLavorate").setVisible(true);this.getView().byId("oreLavorate").setValue(y)},onPressBtnShowAllWbs:function(e){var t=this.getView().byId("tableSelectDialogWbs"),a,s,i;t.setBusy(true);a=t.getBinding("items");if(e.getSource().getPressed()){i=""}else{i="X"}s=new r({filters:[new r({path:"InputExtractOnlyPrefWbs",operator:sap.ui.model.FilterOperator.EQ,value1:i})]});a.filter([s]);t.setBusy(false)},onPressBtnAddRemovePrefWbs:function(e){sap.ui.core.BusyIndicator.show();var t=this,a="mainService",r=t.getView().getModel(a),s=this.getOwnerComponent().getModel("i18n").getResourceBundle(),o=e.getSource().oParent.oBindingContexts.mainService.sPath,n=r.getProperty(o),l,d;if(n.Pref){d=""}else{d="X"}l={InputUname:"",InputPernr:"",InputRproj:"",Uname:n.Uname,Pernr:n.Pernr,Rproj:n.Rproj,Posid:n.Posid,Post1:n.Post1,Pbukr:n.Pbukr,Werks:n.Werks,Usr00:n.Usr00,Kostl:n.Kostl,Pref:d};if(d){r.create("/WbsPrefSet",l,{success:function(){r.refresh();sap.ui.core.BusyIndicator.hide();i.show(s.getText("messageToastWbsPrefSuccess"))},error:function(e){sap.ui.core.BusyIndicator.hide();t.showWbsPrefError(e,"C")}})}else{r.remove("/WbsPrefSet(Uname='"+n.Uname+"',Pernr='"+n.Pernr+"',Rproj='"+n.Rproj+"')",{success:function(){r.refresh();sap.ui.core.BusyIndicator.hide();i.show(s.getText("messageToastWbsPrefSuccess"))},error:function(e){sap.ui.core.BusyIndicator.hide();t.showWbsPrefError(e,"D")}})}},onPressBtnDays:function(e){var t=e.getSource(),r=this.getView();if(!this._pDialog2){this._pDialog2=a.load({id:r.getId(),name:"zfioritimesheet3.zfioritimesheet3n.view.FragmentDays",controller:this}).then(function(e){r.addDependent(e);return e})}this._pDialog2.then(function(e){this._configDialogDays(t,e);if(e)e.open()}.bind(this))},_configDialogDays:function(e,t){if(!e)e=this.byId("btnDays");if(!t)t=this.byId("dialogDays");var a=e.data("responsivePadding"),i="sapUiResponsivePadding--header sapUiResponsivePadding--subHeader sapUiResponsivePadding--content sapUiResponsivePadding--footer";if(a){t.addStyleClass(i)}else{t.removeStyleClass(i)}var o=s.getDateInstance({pattern:"yyyy-MM-dd",UTC:false}),l=this.getView().byId("listDialogDays"),d=this.byId("dateRangeWorkdateDialogDays"),g=this.byId("switchShowOnlyDaysInErrorDialogDays"),u=new Date,p=o.format(new Date(u.getFullYear(),u.getMonth()-1,u.getDate())),h=o.format(new Date(u.getFullYear(),u.getMonth(),u.getDate())),m=l.getBinding("items"),c=new r({filters:[new r({path:"InputWorkdateFrom",operator:sap.ui.model.FilterOperator.EQ,value1:p}),new r({path:"InputWorkdateTo",operator:sap.ui.model.FilterOperator.EQ,value1:h}),new r({path:"InputExtractOnlyDaysError",operator:sap.ui.model.FilterOperator.EQ,value1:""})],and:true});d.setValueState(n.None);d.setValue(s.getDateInstance({style:"medium"}).format(new Date(u.getFullYear(),u.getMonth()-1,u.getDate()))+"-"+s.getDateInstance({style:"medium"}).format(u));g.setState(false);m.filter([c])},onUpdateFinishedListDialogDays:function(e){this._updateListItemCountDialogDays(e.getParameter("total"))},_updateListItemCountDialogDays:function(e){var t=this.getOwnerComponent().getModel("i18n").getResourceBundle();if(this.byId("listDialogDays").getBinding("items").isLengthFinal())this.byId("labelInfoToolbarDialogDays").setText(t.getText("textDisplaydEntriesDialogDays")+e)},onPressBtnCloseDialogDays:function(){var e=this.byId("listDialogDays").getBinding("items");e.filter([]);this.byId("dialogDays").close()},onPressBtnApplySelectedFiltersDialogDays:function(){var e=this.getView().byId("listDialogDays");e.setBusy(true);var t=s.getDateInstance({pattern:"yyyy-MM-dd",UTC:false}),a=this.byId("dateRangeWorkdateDialogDays"),i=this.byId("switchShowOnlyDaysInErrorDialogDays"),o=a.getDateValue(),n=a.getSecondDateValue(),l=t.format(o),d=t.format(n),g=i.getState()?"X":"";oBinding=e.getBinding("items"),oFilter=new r({filters:[new r({path:"InputWorkdateFrom",operator:sap.ui.model.FilterOperator.EQ,value1:l}),new r({path:"InputWorkdateTo",operator:sap.ui.model.FilterOperator.EQ,value1:d}),new r({path:"InputExtractOnlyDaysError",operator:sap.ui.model.FilterOperator.EQ,value1:g})],and:true});oBinding.filter([oFilter]);e.setBusy(false)},onChangeDateRangeWorkdateDialogDays:function(){this._validateFilterValuesDialogDays()},onChangeSwitchShowOnlyDaysInErrorDialogDays:function(){this._validateFilterValuesDialogDays()},_validateFilterValuesDialogDays:function(){var e=this.getOwnerComponent().getModel("i18n").getResourceBundle(),t=this.byId("dateRangeWorkdateDialogDays");if(!t.getValue()){t.setValueState(n.Error);t.setValueStateText(e.getText("validationErrorTextEmtpyDateRangeDialogDays"))}else if(!t._bValid){t.setValueState(n.Error);t.setValueStateText(e.getText("validationErrorTextInvalidDateRangeDialogDays"))}else{t.setValueState(n.None)}this._updateEnabledStateBtnApplySelectedFiltersDialogDays()},_updateEnabledStateBtnApplySelectedFiltersDialogDays:function(){var e=this.byId("dateRangeWorkdateDialogDays"),t=this.byId("btnApplySelectedFiltersDialogDays"),a=e.getValueState()!==n.Error;t.setEnabled(a)},handlePlanCaleMainAppoSele:function(e){sap.ui.core.BusyIndicator.show();var t=e.getParameter("appointment");if(t){var a=this.getOwnerComponent().getModel("jsonService");var r=t.mBindingInfos.key.binding.oContext.sPath;var s=a.getProperty(r);var i=new sap.ui.model.json.JSONModel;i.setData(s);this.getOwnerComponent().setModel(i,"keyModel");this._handleAppointmentSelection(t)}},_handleAppointmentSelection:function(e){var t=this.getView();if(!e){sap.ui.core.BusyIndicator.hide();return}if(!e.getSelected()&&this._pDetailsPopover){this._pDetailsPopover.then(function(e){e.close()});sap.ui.core.BusyIndicator.hide();return}if(!this._pDetailsPopover){this._pDetailsPopover=a.load({id:t.getId(),name:"zfioritimesheet3.zfioritimesheet3n.view.FragmentDetails",controller:this}).then(function(e){t.addDependent(e);return e})}this._pDetailsPopover.then(function(t){this._setDetailsDialogContent(e,t)}.bind(this));sap.ui.core.BusyIndicator.hide()},_setDetailsDialogContent:function(e,t){var a=this,r=this.getOwnerComponent().getModel("i18n").getResourceBundle(),i=this.byId("moreInfoText"),o=this.byId("shortTextText"),n=this.byId("longTextText"),l=this.byId("wbsText"),d=this.byId("labelStartDate"),g=this.byId("startDateText"),u=this.byId("endDateText"),p=this.byId("lEndDateText"),h=this.byId("endDateText"),m=this.byId("lOreLavoro"),c=this.byId("oreLavoro");var y=this.getOwnerComponent().getModel("jsonService");var f=this.getOwnerComponent().getModel("mainService");var b=e.mBindingInfos.key.binding.oContext.sPath;var v=y.getProperty(b);var D="UserEventSet(Uname='"+v.user+"',Pernr='"+v.userPernr+"',Counter='"+v.key+"')";var I=f.oData[D];if(e.mBindingInfos===undefined)e=I.getParameter("appointment");if(I.Status!=="10"){sap.ui.core.BusyIndicator.hide();a.showErrorNotEditable();return false}if(I.Tasklevel=="ASS001"){h.setVisible(true);p.setVisible(true);m.setVisible(false);c.setVisible(false);d.setText(r.getText("textFromLabel2"));var T=new Date(v.startDate);if(T){oStartDateControl=s.getDateTimeInstance({style:"medium"}).format(T);g.setText(oStartDateControl)}var S=new Date(v.endDate);if(S){oEndDateControl=s.getDateTimeInstance({style:"medium"}).format(S);u.setText(oEndDateControl)}}else{h.setVisible(false);p.setVisible(false);m.setVisible(true);c.setVisible(true);d.setText(r.getText("textDayLabel2"));var T=I.Workdate;var V=parseInt(this.msToTime(I.Beguz.ms).substring(0,2));var w=parseInt(this.msToTime(I.Beguz.ms).substring(3,5));T.setHours(V);T.setMinutes(w);oStartDateControl=s.getDateInstance({style:"medium"}).format(T);g.setText(oStartDateControl);c.setText(I.Catshours)}i.setText(v.text);o.setText(v.description);n.setText(v.longDescription);l.setText(v.wbsDescription);t.openBy(e)},handleDeleteAppointment:function(e){var t=this;var a=this.byId("detailsPopover");var r=this.getView().getModel("i18n").getResourceBundle();var s=r.getText("msgDelete");sap.m.MessageBox.confirm(s,{title:r.getText("msgDeleteTitle"),initialFocus:o.Action.CANCEL,onClose:function(e){if(e===sap.m.MessageBox.Action.OK){sap.ui.core.BusyIndicator.show();t._removeAppointment();a.close()}else{}},styleClass:!jQuery.support.touch?"sapUiSizeCompact":""})},_removeAppointment:function(){sap.ui.core.BusyIndicator.show();var e=this.getOwnerComponent().getModel("mainService"),t=this.getOwnerComponent().getModel("jsonService"),a=this.getOwnerComponent().getModel("keyModel"),r=this.getView().getModel("i18n").getResourceBundle(),s=this,o=0,n=0,l,d;var g=a.getData().key,u=t.getProperty("/people/0");e.remove("/UserEventSet(Uname='"+u.key+"',Pernr='"+u.key2+"',Counter='"+g+"')",{success:function(){t.getProperty("/people/").forEach(function(e){if(e.key===u.key){l="/people/"+o.toString();l+="/appointments";d=t.getProperty(l);d.forEach(function(e){if(e.key===g){d.splice(n,1)}n=n+1})}o=o+1});sap.ui.core.BusyIndicator.hide();i.show(r.getText("msgOkDeleted"));s._ricaricaUserEvent()},error:function(e){sap.ui.core.BusyIndicator.hide();s.showDeleteError(e)}})},handleEditButton:function(e){var t=this.byId("detailsPopover");t.close();this._arrangeDialogFragmentModifica()},_arrangeDialogFragmentModifica:function(){sap.ui.core.BusyIndicator.show();var e=this.getView();if(!this._pModAppointmentDialog){this._pModAppointmentDialog=a.load({id:e.getId(),name:"zfioritimesheet3.zfioritimesheet3n.view.FragmentModifica",controller:this}).then(function(t){e.addDependent(t);return t})}this._pModAppointmentDialog.then(function(e){this._arrangeDialogModifica(e)}.bind(this))},_arrangeDialogModifica:function(e){var t=this.getOwnerComponent().getModel("i18n").getResourceBundle(),a="";this._setAppointmentDialogModifica();a=t.getText("titleEditAppointmentDialog");e.setTitle(a);sap.ui.core.BusyIndicator.hide();e.open()},_setAppointmentDialogModifica:function(){var e=this.getOwnerComponent().getModel("jsonService"),t=this.byId("modName"),a=this.byId("modActType"),r=this.byId("modWbsType"),i=this.byId("lModStartDate"),o=this.byId("modStartDate"),l=this.byId("lModEndDate"),d=this.byId("modEndDate"),g=this.byId("lModGiornoDate"),u=this.byId("modGiornoDate"),p=this.byId("lModOreLavorate"),h=this.byId("modOreLavorate"),m=this.byId("modAppTitle"),c=this.byId("modMoreInfo"),y,f,b,v,D,I,T=this.byId("modActType"),S=this.byId("modWbsType"),V=this.byId("modStartDate"),w=this.byId("modEndDate"),x=this.byId("modGiornoDate"),E=this.byId("modOreLavorate"),P=this.byId("modAppTitle"),C=this.byId("modMoreInfo");T.setValueState(n.None);S.setValueState(n.None);V.setValueState(n.None);w.setValueState(n.None);x.setValueState(n.None);E.setValueState(n.None);P.setValueState(n.None);C.setValueState(n.None);var M=this.getOwnerComponent().getModel("mainService");var k=this.getOwnerComponent().getModel("keyModel");var B=k.getData().key;var O=e.getProperty("/people/0");t.setValue(O.key);m.setValue(this.byId("shortTextText").getText());c.setValue(this.byId("longTextText").getText());var U="UserEventSet(Uname='"+O.key+"',Pernr='"+O.key2+"',Counter='"+B+"')";var A=M.oData[U];a.setValue(A.Tasklevelx);a.setSelectedItem(A.Tasklevel);a.setSelectedKey(A.Tasklevel);if(A.Tasklevel=="ASS001"){r.setEditable(false);o.setVisible(true);i.setVisible(true);d.setVisible(true);l.setVisible(true);g.setVisible(false);u.setVisible(false);p.setVisible(false);h.setVisible(false);r.setValue("");r.setSelectedItem("");r.setSelectedKey("");D=new Date(A.Workdate.getFullYear(),A.Workdate.getMonth(),A.Workdate.getDate());I=s.getDateTimeInstance({style:"short"}).format(D).substring(0,8);y=new Date(D);y.setHours(this.msToTime(A.Beguz.ms).split(":")[0]);y.setMinutes(this.msToTime(A.Beguz.ms).split(":")[1]);y.setSeconds(this.msToTime(A.Beguz.ms).split(":")[2].substring(0,2));b=this.dateToString(y);f=new Date(D);f.setHours(this.msToTime(A.Enduz.ms).split(":")[0]);f.setMinutes(this.msToTime(A.Enduz.ms).split(":")[1]);f.setSeconds(this.msToTime(A.Enduz.ms).split(":")[2].substring(0,2));v=this.dateToString(f);u.setValue(I);o.setValue(b);d.setValue(v);h.setValue(A.Catshours)}else{r.setEditable(true);o.setVisible(false);i.setVisible(false);d.setVisible(false);l.setVisible(false);g.setVisible(true);u.setVisible(true);p.setVisible(true);h.setVisible(true);r.setValue(A.Post1);r.setSelectedItem(A.Rproj);r.setSelectedKey(A.Rproj);D=new Date(A.Workdate.getFullYear(),A.Workdate.getMonth(),A.Workdate.getDate());I=s.getDateTimeInstance({style:"short"}).format(D).substring(0,8);y=new Date;y.setHours(0);y.setMinutes(0);y.setSeconds(0);b=this.dateToString(y);f=new Date;f.setHours(0);f.setMinutes(0);f.setSeconds(0);v=this.dateToString(f);u.setValue(I);o.setValue(b);d.setValue(v);h.setValue(A.Catshours)}},handleChangeSelectActivityModifica:function(){var e=this.getOwnerComponent().getModel("jsonService");var t=this.getOwnerComponent().getModel("mainService");var a=this.getOwnerComponent().getModel("keyModel");var r=a.getData().key;var i=e.getProperty("/people/0");var o="UserEventSet(Uname='"+i.key+"',Pernr='"+i.key2+"',Counter='"+r+"')";var n=t.oData[o];var l=this.getView().byId("modActType");var d=this.byId("modWbsType");if(l)var g=l.getSelectedItem().mBindingInfos.key.binding.oContext.sPath;var t=this.getOwnerComponent().getModel("mainService");var u=t.getProperty(g);if(u.Tasklevel=="ASS001"){d.setValue("");d.setSelectedItem("");d.setSelectedKey("");d.setEditable(false)}else{d.setValue(n.Post1);d.setSelectedItem(n.Rproj);d.setSelectedKey(n.Rproj);d.setEditable(true)}if(u.FlgInputNumOre==="X"){this.getView().byId("lModStartDate").setVisible(false);this.getView().byId("modStartDate").setVisible(false);this.getView().byId("lModEndDate").setVisible(false);this.getView().byId("modEndDate").setVisible(false);this.getView().byId("lModGiornoDate").setVisible(true);this.getView().byId("modGiornoDate").setVisible(true);this.getView().byId("lModOreLavorate").setVisible(true);this.getView().byId("modOreLavorate").setVisible(true);var p=this.getView().byId("planCaleMain").getStartDate();var h=s.getDateInstance({style:"medium"}).format(p);this.getView().byId("modGiornoDate").setValue(h)}else{this.getView().byId("lModStartDate").setVisible(true);this.getView().byId("modStartDate").setVisible(true);this.getView().byId("lModEndDate").setVisible(true);this.getView().byId("modEndDate").setVisible(true);this.getView().byId("lModGiornoDate").setVisible(false);this.getView().byId("modGiornoDate").setVisible(false);this.getView().byId("lModOreLavorate").setVisible(false);this.getView().byId("modOreLavorate").setVisible(false);p=this.getView().byId("planCaleMain").getStartDate();h=s.getDateTimeInstance({style:"medium"}).format(p);this.getView().byId("modStartDate").setValue(h);this.getView().byId("modEndDate").setValue(h)}this.onChangeInputValuesModifica()},handleDialogModificaSaveButton:function(){var e=this.getOwnerComponent().getModel("jsonService"),t=this.byId("modActType"),a="",r=this.byId("modWbsType"),s="",i=this.byId("modStartDate"),o=this.byId("modEndDate"),l=this.byId("modGiornoDate"),d=this.getOwnerComponent().getModel("mainService"),g=this.byId("modificaDialog"),u;var p=e.getProperty("/people/0");if(o.getDateValue()===null){o.setDateValue(i.getDateValue())}if(i.getValueState()!==n.Error&&o.getValueState()!==n.Error){var h=this.getView().byId("modOreLavorate").getValue();if(!(h>0)){var m=i.getDateValue();var c=o.getDateValue()}else{m=l.getDateValue();c=l.getDateValue()}if(t.getSelectedItem()){a=t.getSelectedItem().mProperties.text}if(r.getSelectedItem()){s=r.getSelectedItem().mProperties.text}u={key:"",title:s,text:a,description:this.byId("modAppTitle").getValue(),longDescription:this.byId("modMoreInfo").getValue(),startDate:m,endDate:c,icon:"sap-icon://activity-2",selected:false,tentative:false,type:"",user:p.key,userPernr:p.key2,wbs:this.byId("modWbsType").getSelectedKey(),wbsDescription:s};this._addNewAppointmentModifica(u);d.updateBindings();g.close()}},_addNewAppointmentModifica:function(e){var t=this.getOwnerComponent().getModel("jsonService"),a=this.byId("modStartDate").getDateValue(),r=this.byId("modEndDate").getDateValue(),n=this.byId("modGiornoDate").getDateValue(),l=this.getOwnerComponent().getModel("mainService"),d=this.getOwnerComponent().getModel("keyModel"),g=this,u;var p=s.getDateInstance({pattern:"PTHH'H'mm'M'ss'S'"});var h=this.getView().byId("modActType");var m=this.getView().byId("modWbsType");var c=this.getView().byId("modAppTitle");var y=this.getView().byId("modMoreInfo");var f,b;var u,v,D,I,T;if(h.getSelectedItem()){u=h.getSelectedItem().mBindingInfos.key.binding.oContext.sPath;v=l.getProperty(u);D={Tasktype:v.Tasktype,Tasklevel:v.Tasklevel,Tasklevelx:v.Tasklevelx}}else{D={Tasktype:"",Tasklevel:"",Tasklevelx:""}}if(m.getSelectedItem()){u=m.getSelectedItem().mBindingInfos.key.binding.oContext.sPath;I=l.getProperty(u);T={Rproj:I.Rproj,Posid:I.Posid,Post1:I.Post1}}else{T={Rproj:"",Posid:"",Post1:""}}if(!a)a=n;if(!r)r=n;var S=this.getView().byId("modOreLavorate").getValue();if(S==""){f=p.format(a);b=p.format(r)}else{var V=new Date;V.setHours("0");V.setMinutes("0");V.setSeconds("0");V.setMilliseconds("0");f=b=p.format(V)}var w=d.getData().key;var x=t.getProperty("/people/0");var E={InputUname:x.key,InputPernr:x.key2,InputCounter:w,InputTsSearchFrom:a,InputTsSearchTo:r,Uname:x.key,Pernr:x.key2,Counter:w,Workdate:n,Rproj:T.Rproj,Posid:T.Posid,Post1:T.Post1,Tasktype:D.Tasktype,Tasklevel:D.Tasklevel,Tasklevelx:D.Tasklevelx,Catshours:S,Beguz:f,Enduz:b,Ltxa1:c.getValue(),LongText:y.getValue(),Status:"",Statusx:"",TsSearchFrom:a,TsSearchTo:r};var P=this.getOwnerComponent().getModel("mainService");sap.ui.core.BusyIndicator.show();P.callFunction("/ModificaUserEvent",{method:"GET",urlParameters:E,success:function(e){sap.ui.core.BusyIndicator.hide();if(e.message){var t=e.ModificaUserEvent.Message;o.error(t,{title:oI18n.getText("msgError"),styleClass:!jQuery.support.touch?"sapUiSizeCompact":""})}else{var a=g.getView().getModel("i18n").getResourceBundle();i.show(a.getText("msgOkEdited"));g._ricaricaUserEvent()}},error:function(e){sap.ui.core.BusyIndicator.hide();g.showUpdateError(e)}})},handleDialogModificaCancelButton:function(){this.byId("modificaDialog").close()},onPressBtnAddAppointment:function(e){this._arrangeDialogFragmentCreate()},_arrangeDialogFragmentCreate:function(){sap.ui.core.BusyIndicator.show();var e=this.getView();if(!this._pNewAppointmentDialog){this._pNewAppointmentDialog=a.load({id:e.getId(),name:"zfioritimesheet3.zfioritimesheet3n.view.FragmentCreazione",controller:this}).then(function(t,a){e.addDependent(t);return t})}this._pNewAppointmentDialog.then(function(e){this._arrangeDialogCreate(e)}.bind(this))},_arrangeDialogCreate:function(e){var t="",a=this.getOwnerComponent().getModel("i18n").getResourceBundle(),r=this.byId("dipName"),s=this.byId("actType"),i=this.byId("wbsType"),o=this.byId("createStartDate"),l=this.byId("createEndDate"),d=this.byId("createGiornoDate"),g=this.byId("oreLavorate"),u=this.byId("appTitle"),p=this.byId("moreInfo");r.setValueState(n.None);s.setValueState(n.None);i.setValueState(n.None);o.setValueState(n.None);l.setValueState(n.None);d.setValueState(n.None);g.setValueState(n.None);u.setValueState(n.None);p.setValueState(n.None);this._setCreateAppointmentDialogContentCreate();t=a.getText("titleCreateAppointmentDialog");e.setTitle(t);e.open();sap.ui.core.BusyIndicator.hide()},_setCreateAppointmentDialogContentCreate:function(){var e=this.getOwnerComponent().getModel("jsonService"),t=this.getView().byId("planCaleMain"),a,r=this.byId("createStartDate"),i=this.byId("createEndDate"),o=this.byId("createGiornoDate"),n=this.byId("appTitle"),l=this.byId("moreInfo"),d=this.byId("dipName"),g=this.byId("actType"),u=this.byId("wbsType"),p="LAV005",h="Lavoro",m,c,y,f,b,v,D=this.getOwnerComponent().getModel("paramModel"),I=e.getProperty("/people/0");if(t._dateNav._start){a=t._dateNav._start}else{a=new Date}if(D){if(D.oData){y=D.oData.startDate;f=D.oData.endDate;b=y.getHours().toString().padStart(2,"0")+":"+y.getMinutes().toString().padStart(2,"0");v=f.getHours().toString().padStart(2,"0")+":"+f.getMinutes().toString().padStart(2,"0");m=Math.abs(this.timeStringToDecimal(v)-this.timeStringToDecimal(b));if(m>0){c=this.roundTo2DecimalsString(m)}else{c=""}D.setData(null);D.updateBindings(true)}else{y=a;f=a;c=""}}else{y=a;f=a;c=""}var T=new Date(y),S=new Date(f);d.setValue(I.text);var V={userPernr:I.key2,user:I.key};var w=new sap.ui.model.json.JSONModel;w.setData(V);this.getOwnerComponent().setModel(w,"keyModel");var x=s.getDateTimeInstance({style:"medium"}).format(T);var E=s.getDateTimeInstance({style:"medium"}).format(S);var P=s.getDateInstance({style:"medium"}).format(T);r.setValue(x);i.setValue(E);o.setValue(P);n.setValue("");l.setValue("");g.setValue(h);g.setSelectedItem(p);g.setSelectedKey(p);u.setSelectedKey("");u.setEditable(true);this.getView().byId("lCreateStartDate").setVisible(false);r.setVisible(false);this.getView().byId("lCreateEndDate").setVisible(false);i.setVisible(false);this.getView().byId("lGiornoDate").setVisible(true);o.setVisible(true);this.getView().byId("lOreLavorate").setVisible(true);this.getView().byId("oreLavorate").setVisible(true);this.getView().byId("oreLavorate").setValue(c)},handleDialogSaveButtonCreate:function(){sap.ui.core.BusyIndicator.show();var e=this.byId("createStartDate"),t=this.byId("createEndDate"),a=this.byId("moreInfo").getValue(),r=this.byId("appTitle").getValue(),s=this.getOwnerComponent().getModel("mainService"),i=this.byId("createDialog"),o;if(e.getValueState()!==n.Error&&t.getValueState()!==n.Error){o={title:r,info:a,start:e.getDateValue(),end:t.getDateValue()};this._addNewAppointmentCreate(o)}s.updateBindings();i.close()},_addNewAppointmentCreate:function(e){var t=this,a=t.getView(),r;var o=s.getDateInstance({pattern:"PTHH'H'mm'M'ss'S'"});var n=this.getOwnerComponent().getModel("keyModel");var l=this.getOwnerComponent().getModel("mainService");var d="";var g=null;var u=a.byId("appTitle");var p=a.byId("moreInfo");var h=a.byId("actType");var r,m,c;r=h.getSelectedItem().mBindingInfos.key.binding.oContext.sPath;m=l.getProperty(r);var y=a.byId("wbsType");if(y.getSelectedItem()){r=y.getSelectedItem().mBindingInfos.key.binding.oContext.sPath;c=l.getProperty(r)}else{c={Rproj:"",Posid:"",Post1:""}}var f=a.byId("createStartDate").getDateValue();var b=a.byId("createEndDate").getDateValue();var v=a.byId("createGiornoDate").getDateValue();var D=a.byId("oreLavorate").getValue();var I;if(a.byId("oreLavorate").getVisible())I="X";if(!I){D="0.00";var T=new Date(f);T.setHours(parseInt(f.getHours()),parseInt(f.getMinutes()),parseInt(f.getSeconds()));var S=o.format(T);T=new Date(b);T.setHours(parseInt(b.getHours()),parseInt(b.getMinutes()),parseInt(b.getSeconds()));var V=o.format(T)}else{S=g;V=g}if(b===g){b=f}var w=n.getData().user,x=n.getData().userPernr,E=this.dateToYyyyMmDd(v);var P={InputUname:d,InputPernr:d,InputCounter:d,InputTsSearchFrom:g,InputTsSearchTo:g,Uname:w,Pernr:x,Counter:"00000000000",Workdate:v,WorkdateChar:E,Rproj:c.Rproj,Posid:c.Posid,Post1:c.Post1,Tasktype:m.Tasktype,Tasklevel:m.Tasklevel,Tasklevelx:m.Tasklevelx,Catshours:D,Beguz:S,Enduz:V,Ltxa1:u.getValue(),LongText:p.getValue(),Status:d,Statusx:d,TsSearchFrom:g,TsSearchTo:g};var C=this.getOwnerComponent().getModel("mainService");C.create("/UserEventSet",P,{success:function(){sap.ui.core.BusyIndicator.hide();var e=a.getModel("i18n").getResourceBundle();i.show(e.getText("msgOkInsert"));t._ricaricaUserEvent()},error:function(e){sap.ui.core.BusyIndicator.hide();t.showCreateError(e)}})},_ricaricaUserEvent:function(){var e=this,t="mainService",a="jsonService",i=this.getOwnerComponent().getModel(t),o=this.getOwnerComponent().getModel(a);var n=o.getProperty("/people/0");var l=s.getDateInstance({pattern:"yyyy-MM-dd",UTC:false});var d=new Date,g=l.format(new Date(d.getFullYear(),d.getMonth()-1,d.getDate())),u=l.format(new Date(d.getFullYear(),d.getMonth()+1,d.getDate())),p=new r({filters:[new r({path:"InputUname",operator:sap.ui.model.FilterOperator.EQ,value1:n.key}),new r({path:"InputPernr",operator:sap.ui.model.FilterOperator.EQ,value1:n.key2}),new r({path:"InputTsSearchFrom",operator:sap.ui.model.FilterOperator.EQ,value1:g}),new r({path:"InputTsSearchTo",operator:sap.ui.model.FilterOperator.EQ,value1:u})],and:true}),h="";h=p;i.read("/UserEventSet",{filters:[h],success:function(t){var a="/people/0/appointments",r=o.getProperty(a),s,i;r.splice(0,r.length);for(i=0;i<t.results.length;i++){if(t.results[i].Uname===n.key){if(t.results[i].Tasktype=="AS01")t.results[i].Catshours="0.00";var l=new Date(t.results[i].Workdate),d,g,u;d=e.dateToYyyyMmDd(l)+"T"+e.msToTime(t.results[i].Beguz.ms);g=e.dateToYyyyMmDd(l)+"T"+e.msToTime(t.results[i].Enduz.ms);switch(t.results[i].Status){case"10":if(t.results[i].Tasklevel=="LAV005"){u="Type01"}else{u="Type08"}break;case"20":if(t.results[i].Tasklevel=="LAV005"){u="Type02"}else{u="Type09"}break;case"30":if(t.results[i].Tasklevel=="LAV005"){u="Type06"}else{u="Type10"}break;case"40":if(t.results[i].Tasklevel=="LAV005"){u="Type03"}else{u="Type11"}break;case"50":if(t.results[i].Tasklevel=="LAV005"){u="Type04"}else{u="Type12"}break;case"60":if(t.results[i].Tasklevel=="LAV005"){u="Type05"}else{u="Type13"}break;default:u="Type07"}s={key:t.results[i].Counter,title:t.results[i].Post1,text:t.results[i].Tasklevelx,description:t.results[i].Ltxa1,longDescription:t.results[i].LongText,startDate:d,endDate:g,icon:"sap-icon://activity-2",selected:false,tentative:false,type:u,user:t.results[i].Uname,userPernr:t.results[i].Pernr,wbs:t.results[i].Posid,wbsDescription:t.results[i].Post1};r.push(s)}}if(o.setProperty(a,r)){o.refresh();sap.ui.core.BusyIndicator.hide()}},error:function(t){sap.ui.core.BusyIndicator.hide();e.showUnknownError(t)}})},handleDialogCancelButtonCreate:function(){this.byId("createDialog").close()},handleChangeSelectActivityCreate:function(e){var t;var a=this.getView().byId("actType");if(a)t=a.getSelectedItem().mBindingInfos.key.binding.oContext.sPath;var r=this.byId("wbsType");var s=this.getOwnerComponent().getModel("mainService");var i=s.getProperty(t);if(i.Tasklevel=="ASS001"){r.setValue("");r.setSelectedItem("");r.setSelectedKey("");r.setEditable(false)}else{r.setEditable(true)}if(i.FlgInputNumOre==="X"){this.getView().byId("lCreateStartDate").setVisible(false);this.getView().byId("createStartDate").setVisible(false);this.getView().byId("lCreateEndDate").setVisible(false);this.getView().byId("createEndDate").setVisible(false);this.getView().byId("lGiornoDate").setVisible(true);this.getView().byId("createGiornoDate").setVisible(true);this.getView().byId("lOreLavorate").setVisible(true);this.getView().byId("oreLavorate").setVisible(true)}else{this.getView().byId("lCreateStartDate").setVisible(true);this.getView().byId("createStartDate").setVisible(true);this.getView().byId("lCreateEndDate").setVisible(true);this.getView().byId("createEndDate").setVisible(true);this.getView().byId("lGiornoDate").setVisible(false);this.getView().byId("createGiornoDate").setVisible(false);this.getView().byId("lOreLavorate").setVisible(false);this.getView().byId("oreLavorate").setVisible(false)}this.onChangeInputValuesCreate()},validateStartEndDateTimePickerCreate:function(e,a){var r=this.getOwnerComponent().getModel("i18n").getResourceBundle(),s=e.getDateValue(),i=a.getDateValue(),o=r.getText("validationErrorTextStartEndDateTimePicker");if(s&&i&&i.getTime()<=s.getTime()){e.setValueState(t.ValueState.Error);a.setValueState(t.ValueState.Error);e.setValueStateText(o);a.setValueStateText(o)}else{e.setValueState(t.ValueState.None);a.setValueState(t.ValueState.None)}},onChangeStartEndDateInputValuesCreate:function(e){var a=this.getOwnerComponent().getModel("i18n").getResourceBundle(),r=this.byId("createStartDate"),s=this.byId("createEndDate"),i=this.byId("oreLavorate"),o=i.getVisible()?"X":"";if(!o){if(e.getParameter("valid")){this.validateStartEndDateTimePickerCreate(r,s)}else{e.getSource().setValueState(t.ValueState.Error);e.getSource().setValueStateText(a.getText("validationErrorTextInvalidStartEndDateTimePicker"))}this.updateButtonEnabledStateAfterInputValidationCreate(this.byId("createDialog"),o)}},onChangeInputValuesCreate:function(){var e=this.getOwnerComponent().getModel("i18n").getResourceBundle(),t=this.byId("actType"),a=this.byId("wbsType"),r=this.byId("createGiornoDate"),s=this.byId("oreLavorate"),i=this.byId("appTitle"),o=this.byId("moreInfo"),l=s.getVisible()?"X":"";if(!t.getSelectedKey()){t.setValueState(n.Error);t.setValueStateText(e.getText("validationErrorTextEmtpyActivity"))}else{t.setValueState(n.None)}if(l){if(!a.getSelectedKey()){a.setValueState(n.Error);a.setValueStateText(e.getText("validationErrorTextEmtpyWbs"))}else{a.setValueState(n.None)}if(!s.getValue().toString().replace(/\s+/g,"")){s.setValueState(n.Error);s.setValueStateText(e.getText("validationErrorTextEmptyWorkedHours"))}else if(!(parseFloat(s.getValue())>0)){s.setValueState(n.Error);s.setValueStateText(e.getText("validationErrorTextInvalidWorkedHours"))}else if(parseFloat(s.getValue())>23.99){s.setValueState(n.Error);s.setValueStateText(e.getText("validationErrorTextLongerWorkedHours"))}else{s.setValueState(n.None)}if(!r.getValue().replace(/\s+/g,"")){r.setValueState(n.Error);r.setValueStateText(e.getText("validationErrorTextEmtpyWorkdate"))}else if(!r._bValid){r.setValueState(n.Error);r.setValueStateText(e.getText("validationErrorTextInvalidWorkdate"))}else{r.setValueState(n.None)}}if(i.getValue().length>40){i.setValueState(n.Error);i.setValueStateText(e.getText("validationErrorTextLongerShortDescription"))}else{i.setValueState(n.None)}if(o.getValue().length>132){o.setValueState(n.Error);o.setValueStateText(e.getText("validationErrorTextLongerAdditionalInformation"))}else{o.setValueState(n.None)}this.updateButtonEnabledStateAfterInputValidationCreate(this.byId("createDialog"),l)},updateButtonEnabledStateAfterInputValidationCreate:function(e,t){var a=this.byId("actType"),r=this.byId("wbsType"),s=this.byId("createStartDate"),i=this.byId("createEndDate"),o=this.byId("createGiornoDate"),l=this.byId("oreLavorate"),d=this.byId("appTitle"),g=this.byId("moreInfo"),u;if(t){u=a.getValueState()!==n.Error&&r.getValueState()!==n.Error&&o.getValueState()!==n.Error&&l.getValueState()!==n.Error&&d.getValueState()!==n.Error&&g.getValueState()!==n.Error}else{u=a.getValueState()!==n.Error&&s.getValueState()!==n.Error&&i.getValueState()!==n.Error&&d.getValueState()!==n.Error&&g.getValueState()!==n.Error}e.getBeginButton().setEnabled(u)},onChangeStartEndDateInputValuesModifica:function(e){var a=this.getOwnerComponent().getModel("i18n").getResourceBundle(),r=this.byId("modStartDate"),s=this.byId("modEndDate"),i=this.byId("modOreLavorate"),o=i.getVisible()?"X":"";if(!o){if(e.getParameter("valid")){this.validateStartEndDateTimePickerCreate(r,s)}else{e.getSource().setValueState(t.ValueState.Error);e.getSource().setValueStateText(a.getText("validationErrorTextInvalidStartEndDateTimePicker"))}this.updateButtonEnabledStateAfterInputValidationModifica(this.byId("modificaDialog"),o)}},onChangeInputValuesModifica:function(){var e=this.getOwnerComponent().getModel("i18n").getResourceBundle(),t=this.byId("modActType"),a=this.byId("modWbsType"),r=this.byId("modOreLavorate"),s=this.byId("modAppTitle"),i=this.byId("modMoreInfo"),o=r.getVisible()?"X":"";if(!t.getSelectedKey()){t.setValueState(n.Error);t.setValueStateText(e.getText("validationErrorTextEmtpyActivity"))}else{t.setValueState(n.None)}if(o){if(!a.getSelectedKey()){a.setValueState(n.Error);a.setValueStateText(e.getText("validationErrorTextEmtpyWbs"))}else{a.setValueState(n.None)}if(!r.getValue().toString().replace(/\s+/g,"")){r.setValueState(n.Error);r.setValueStateText(e.getText("validationErrorTextEmptyWorkedHours"))}else if(!(parseFloat(r.getValue())>0)){r.setValueState(n.Error);r.setValueStateText(e.getText("validationErrorTextInvalidWorkedHours"))}else if(parseFloat(r.getValue())>23.99){r.setValueState(n.Error);r.setValueStateText(e.getText("validationErrorTextLongerWorkedHours"))}else{r.setValueState(n.None)}}if(s.getValue().length>40){s.setValueState(n.Error);s.setValueStateText(e.getText("validationErrorTextLongerShortDescription"))}else{s.setValueState(n.None)}if(i.getValue().length>132){i.setValueState(n.Error);i.setValueStateText(e.getText("validationErrorTextLongerAdditionalInformation"))}else{i.setValueState(n.None)}this.updateButtonEnabledStateAfterInputValidationModifica(this.byId("modificaDialog"),o)},updateButtonEnabledStateAfterInputValidationModifica:function(e,t){var a=this.byId("modActType"),r=this.byId("modWbsType"),s=this.byId("modStartDate"),i=this.byId("modEndDate"),o=this.byId("modOreLavorate"),l=this.byId("modAppTitle"),d=this.byId("modMoreInfo"),g;if(t){g=a.getValueState()!==n.Error&&r.getValueState()!==n.Error&&o.getValueState()!==n.Error&&l.getValueState()!==n.Error&&d.getValueState()!==n.Error}else{g=a.getValueState()!==n.Error&&s.getValueState()!==n.Error&&i.getValueState()!==n.Error&&l.getValueState()!==n.Error&&d.getValueState()!==n.Error}e.getBeginButton().setEnabled(g)},handleAppointmentAddWithContext:function(e){var t=e.getParameters(),a=new sap.ui.model.json.JSONModel,r=new Date(t.endDate);t.endDate=new Date(r.getTime()+1e3);this.oClickEventParameters=t;a.setData(t);this.getOwnerComponent().setModel(a,"paramModel");this._arrangeDialogFragmentCreate()},onPlanCaleMainCreate:function(e){var t=new sap.ui.model.json.JSONModel;t.setData(e.getParameters());this.getOwnerComponent().setModel(t,"paramModel");this.onPressBtnAddAppointment(e)},onPlanCaleMainDragEnter:function(e){var t=new sap.ui.model.json.JSONModel;var a={counter:e.mParameters.appointment.mProperties.key,user:e.oSource.mProperties.key};t.setData(a);this.getOwnerComponent().setModel(t,"keyModel");if(this.isAppointmentOverlap(e,e.getParameter("calendarRow"))){e.preventDefault()}},isAppointmentOverlap:function(e,t){var a=e.getParameter("appointment"),r=e.getParameter("startDate"),s=e.getParameter("endDate"),i;i=t.getAppointments().some(function(e){if(e===a){return}var t=e.getStartDate().getTime(),i=e.getEndDate().getTime();if(t<=r.getTime()&&r.getTime()<i){return true}if(t<s.getTime()&&s.getTime()<=i){return true}if(r.getTime()<=t&&t<s.getTime()){return true}});return i},onPlanCaleMainResize:function(e){sap.ui.core.BusyIndicator.show();var t=e.getParameter("appointment"),a=new sap.ui.model.json.JSONModel;oKey={counter:e.mParameters.appointment.mProperties.key,user:e.oSource.mProperties.key};a.setData(oKey);this.getOwnerComponent().setModel(a,"keyModel");this._appointmentResize(t,e)},_appointmentResize:function(e,t){var a=t.getParameter("startDate"),r=t.getParameter("endDate"),n=this.getOwnerComponent().getModel("jsonService"),l=this.getOwnerComponent().getModel("mainService"),d=this,g,u=s.getDateInstance({pattern:"PTHH'H'mm'M'ss'S'"});if(e.mBindingInfos===undefined){oAppointmentPath=t.getParameter("appointment");var g=oAppointmentPath.mBindingInfos.key.binding.oContext.sPath}else{g=e.mBindingInfos.key.binding.oContext.sPath}var p=n.getProperty(g);var h="UserEventSet(Uname='"+t.oSource.getKey()+"',Pernr='"+p.userPernr+"',Counter='"+t.getParameters().appointment.getProperty("key")+"')";var m=l.oData[h];if(m.Status!=="10"){sap.ui.core.BusyIndicator.hide();d.showErrorNotEditable();return false}var c=new Date(a);c.setHours(parseInt(a.getHours()),parseInt(a.getMinutes()),parseInt(a.getSeconds()));var y=u.format(c);c=new Date(r);c.setHours(parseInt(r.getHours()),parseInt(r.getMinutes()),parseInt(r.getSeconds()));var f=u.format(c);if(r===null){r.setDateValue(a)}var b=a;var v=a.getHours().toString().padStart(2,"0")+":"+a.getMinutes().toString().padStart(2,"0");var D=r.getHours().toString().padStart(2,"0")+":"+r.getMinutes().toString().padStart(2,"0");var I=Math.abs(this.timeStringToDecimal(D)-this.timeStringToDecimal(v));var T=this.roundTo2DecimalsString(I);var S={InputUname:m.InputUname,InputPernr:m.InputPernr,InputCounter:m.InputCounter,InputTsSearchFrom:a,InputTsSearchTo:r,Uname:m.Uname,Pernr:m.Pernr,Counter:m.Counter,Workdate:b,Rproj:m.Rproj,Posid:m.Posid,Post1:m.Post1,Tasktype:m.Tasktype,Tasklevel:m.Tasklevel,Tasklevelx:m.Tasklevelx,Catshours:T,Beguz:y,Enduz:f,Ltxa1:m.Ltxa1,LongText:m.LongText,Status:m.Status,Statusx:m.Statusx,TsSearchFrom:a,TsSearchTo:r};l.callFunction("/ModificaUserEvent",{method:"GET",urlParameters:S,success:function(e){sap.ui.core.BusyIndicator.hide();if(e.message){var t=e.ModificaUserEvent.Message;o.error(t,{title:oI18n.getText("msgError"),styleClass:!jQuery.support.touch?"sapUiSizeCompact":""})}else{var a=d.getView().getModel("i18n").getResourceBundle();i.show(a.getText("msgOkEdited"));d._ricaricaUserEvent()}},error:function(e){sap.ui.core.BusyIndicator.hide();d.showUpdateError(e)}})}})});
},
	"zfioritimesheet3/zfioritimesheet3n/controller/ViewManager.controller.js":function(){sap.ui.define(["sap/ui/core/mvc/Controller","sap/ui/core/library","sap/ui/core/Fragment","sap/ui/model/Filter","sap/ui/core/format/DateFormat","sap/m/MessageToast","sap/m/MessageBox","sap/ui/core/routing/History"],function(e,t,a,r,s,o,i,n){var l=t.ValueState;"use strict";return e.extend("zfioritimesheet3.zfioritimesheet3n.controller.ViewManager",{onInit:function(){sap.ui.core.BusyIndicator.show();var e=this,t=e.getView(),a=t.byId("planCaleTeam"),s=new Date,o="mainService",i="jsonService",n="jsonTeamEventsService",l="jsonManagerService",d=this.getOwnerComponent().getModel(o),g=this.getOwnerComponent().getModel(i),u=this.getOwnerComponent().getModel(l),p=this.getOwnerComponent().getModel(n),m;var c=u.getProperty("/flagExecuted");if(c){sap.ui.core.BusyIndicator.hide();return false}u.setProperty("/flagExecuted",true);u.refresh();if(a){if(this.getOwnerComponent().byId("container-zfiori_timesheet_3n---ViewManager--planCaleTeam-Header-ViewSwitch"))this.getOwnerComponent().byId("container-zfiori_timesheet_3n---ViewManager--planCaleTeam-Header-ViewSwitch").setWidth("350px");if(this.getOwnerComponent().byId("application-ZPS_CAT-display-component---ViewManager--planCaleTeam-Header-ViewSwitch"))this.getOwnerComponent().byId("application-ZPS_CAT-display-component---ViewManager--planCaleTeam-Header-ViewSwitch").setWidth("350px");a.setStartDate(new Date(s.getFullYear(),s.getMonth(),s.getDate(),1));a.setMinDate(new Date(s.getFullYear(),s.getMonth(),1));a.setMaxDate(new Date(s.getFullYear(),s.getMonth()+1,0,23,59,59,999))}var h="/people/0/key",y=g.getProperty(h),f=new r({filters:[new r({path:"InputUname",operator:sap.ui.model.FilterOperator.EQ,value1:y})]}),D="";D=f;d.read("/UserTeamSet",{filters:[D],success:function(t){var a="/people",r=u.getProperty(a),s;for(s=0;s<t.results.length;s++){var o={key:t.results[s].Uname,key2:t.results[s].Pernr,title:t.results[s].Uname,text:t.results[s].Unamex,icon:"sap-icon://employee",manager:false,appointments:[]};r.push(o)}if(!u.setProperty(a,r)){sap.ui.core.BusyIndicator.hide();e.showTeamExtractionError();return false}var i="/appointments",n=p.getProperty(i),l,d;for(s=0;s<t.results.length;s++){var g="/people/"+r.findIndex(e=>e.key==t.results[s].Uname)+"/appointments";aPersonAppointments=u.getProperty(g);for(d=0;d<n.length;d++){if(n[d].user!=t.results[s].Uname)continue;l=n[d];aPersonAppointments.push(l)}if(!u.setProperty(g,aPersonAppointments))m="X"}if(m){sap.ui.core.BusyIndicator.hide();e.showTeamExtractionError()}else{u.refresh();sap.ui.core.BusyIndicator.hide()}},error:function(t){sap.ui.core.BusyIndicator.hide();e.showTeamExtractionError(t)}})},onNavBack:function(){if(n.getInstance().getPreviousHash()){window.history.back()}else{var e=sap.ui.core.UIComponent.getRouterFor(this);if(e)e.navTo("RouteViewMain",null,true)}},msToTime:function(e){var t=(e,t=2)=>("00"+e).slice(-t);return t(e/36e5|0)+":"+t(e%36e5/6e4|0)+":"+t(e%6e4/1e3|0)+"."+t(e%1e3,3)},hoursToMs:function(e){return e*36e5},dateToYyyyMmDd:function(e){return new Date(e.getTime()-e.getTimezoneOffset()*6e4).toISOString().split("T")[0]},dateToString:function(e){if(e)return e.getDate().toString().padStart(2,"0")+"/"+(e.getMonth()+1).toString().padStart(2,"0")+"/"+e.getFullYear().toString().substring(2,4).padStart(2,"0")+", "+e.getHours().toString().padStart(2,"0")+":"+e.getMinutes().toString().padStart(2,"0")},formatDateToMediumString:function(e){return s.getDateInstance({style:"medium"}).format(e)},formatDateString:function(e){return new Date(e)},timeStringToDecimal:function(e){return e.split(":").map(function(e){return parseInt(e,10)}).reduce(function(e,t,a){return e+t/Math.pow(60,a)})},roundTo2DecimalsString:function(e){var t=e>=0?1:-1;return(Math.round(e*Math.pow(10,2)+t*.001)/Math.pow(10,2)).toFixed(2).toString()},showTeamExtractionError:function(e){var t=this.getOwnerComponent().getModel("i18n").getResourceBundle(),a="sapUiResponsivePadding--header sapUiResponsivePadding--content sapUiResponsivePadding--footer",r;if(e){try{r="<p><strong>"+t.getText("messageBoxErrorDetailsText")+"</strong><br/>"+JSON.parse(e.responseText).error.innererror.errordetails[0].message+"</p>"}catch(a){r="<p><strong>"+t.getText("messageBoxErrorDetailsText")+"</strong><br/>"+e.responseText+"</p>"}i.error(t.getText("messageBoxTeamExtractionError"),{title:t.getText("messageBoxTeamExtractionErrorTitle"),details:r,styleClass:!jQuery.support.touch?a:""})}else{i.error(t.getText("messageBoxTeamExtractionError"),{title:t.getText("messageBoxTeamExtractionErrorTitle"),styleClass:!jQuery.support.touch?a:""})}},showWbsPrefError:function(e,t){var a="sapUiResponsivePadding--header sapUiResponsivePadding--content sapUiResponsivePadding--footer",r=this.getOwnerComponent().getModel("i18n").getResourceBundle(),s;try{s="<p><strong>"+r.getText("messageBoxErrorDetailsText")+"</strong><br/>"+JSON.parse(e.responseText).error.innererror.errordetails[0].message+"</p>"}catch(t){s="<p><strong>"+r.getText("messageBoxErrorDetailsText")+"</strong><br/>"+e.responseText+"</p>"}if(t=="C"){i.error(r.getText("messageBoxWbsPrefErrorCreate"),{title:r.getText("messageBoxWbsPrefErrorTitle"),details:s,styleClass:!jQuery.support.touch?a:""})}else if(t=="D"){i.error(r.getText("messageBoxWbsPrefErrorDelete"),{title:r.getText("messageBoxWbsPrefErrorTitle"),details:s,styleClass:!jQuery.support.touch?a:""})}},showWbsPrefErrorMoreItems:function(){var e="sapUiResponsivePadding--header sapUiResponsivePadding--content sapUiResponsivePadding--footer",t=this.getOwnerComponent().getModel("i18n").getResourceBundle();i.error(t.getText("messageBoxWbsPrefErrorMoreItems"),{title:t.getText("messageBoxWbsPrefErrorTitle"),styleClass:!jQuery.support.touch?e:""})},showWbsPrefErrorNotPreferred:function(){var e="sapUiResponsivePadding--header sapUiResponsivePadding--content sapUiResponsivePadding--footer",t=this.getOwnerComponent().getModel("i18n").getResourceBundle();i.error(t.getText("messageBoxWbsPrefErrorNotPreferred"),{title:t.getText("msgError"),styleClass:!jQuery.support.touch?e:""})},showErrorNotEditable:function(){var e="sapUiResponsivePadding--header sapUiResponsivePadding--content sapUiResponsivePadding--footer",t=this.getOwnerComponent().getModel("i18n").getResourceBundle();i.error(t.getText("msgErrorNotEditable"),{title:t.getText("msgError"),styleClass:!jQuery.support.touch?e:""})},showDeleteError:function(e){var t=this.getOwnerComponent().getModel("i18n").getResourceBundle(),a="sapUiResponsivePadding--header sapUiResponsivePadding--content sapUiResponsivePadding--footer",r;try{r="<p><strong>"+t.getText("messageBoxErrorDetailsText")+"</strong><br/>"+JSON.parse(e.responseText).error.innererror.errordetails[0].message+"</p>"}catch(a){r="<p><strong>"+t.getText("messageBoxErrorDetailsText")+"</strong><br/>"+e.responseText+"</p>"}i.error(t.getText("msgErrorDeleteText"),{title:t.getText("msgError"),details:r,styleClass:!jQuery.support.touch?a:""})},showUpdateError:function(e){var t=this.getOwnerComponent().getModel("i18n").getResourceBundle(),a="sapUiResponsivePadding--header sapUiResponsivePadding--content sapUiResponsivePadding--footer",r;try{r="<p><strong>"+t.getText("messageBoxErrorDetailsText")+"</strong><br/>"+JSON.parse(e.responseText).error.innererror.errordetails[0].message+"</p>"}catch(a){r="<p><strong>"+t.getText("messageBoxErrorDetailsText")+"</strong><br/>"+e.responseText+"</p>"}i.error(t.getText("msgErrorUpdateText"),{title:t.getText("msgError"),details:r,styleClass:!jQuery.support.touch?a:""})},showCreateError:function(e){var t=this.getOwnerComponent().getModel("i18n").getResourceBundle(),a="sapUiResponsivePadding--header sapUiResponsivePadding--content sapUiResponsivePadding--footer",r;try{r="<p><strong>"+t.getText("messageBoxErrorDetailsText")+"</strong><br/>"+JSON.parse(e.responseText).error.innererror.errordetails[0].message+"</p>"}catch(a){r="<p><strong>"+t.getText("messageBoxErrorDetailsText")+"</strong><br/>"+e.responseText+"</p>"}i.error(t.getText("msgErrorCreateText"),{title:t.getText("msgError"),details:r,styleClass:!jQuery.support.touch?a:""})},showUnknownError:function(e){var t=this.getOwnerComponent().getModel("i18n").getResourceBundle(),a="sapUiResponsivePadding--header sapUiResponsivePadding--content sapUiResponsivePadding--footer",r;try{r="<p><strong>"+t.getText("messageBoxErrorDetailsText")+"</strong><br/>"+JSON.parse(e.responseText).error.innererror.errordetails[0].message+"</p>"}catch(a){r="<p><strong>"+t.getText("messageBoxErrorDetailsText")+"</strong><br/>"+e.responseText+"</p>"}i.error(t.getText("msgGeneralErrorText"),{title:t.getText("msgError"),details:r,styleClass:!jQuery.support.touch?a:""})},onPressBtnWbs:function(e){var t=e.getSource(),r=this.getView();if(!this._pDialog){this._pDialog=a.load({id:r.getId(),name:"zfioritimesheet3.zfioritimesheet3n.view.FragmentWbs",controller:this}).then(function(e){r.addDependent(e);return e})}this._pDialog.then(function(e){this._configDialogWbs(t,e);if(e)e.open()}.bind(this))},_configDialogWbs:function(e,t){var a=e.data("responsivePadding"),s="sapUiResponsivePadding--header sapUiResponsivePadding--subHeader sapUiResponsivePadding--content sapUiResponsivePadding--footer",o=this.getOwnerComponent().getModel("i18n").getResourceBundle(),i=t._getCancelButton();if(a){t.addStyleClass(s)}else{t.removeStyleClass(s)}i.setText(o.getText("textBtnCloseWbs"));i.setTooltip(o.getText("tooltipBtnCloseWbs"));var n=this.getView().byId("tableSelectDialogWbs"),l,d=new r({filters:[new r({path:"InputExtractOnlyPrefWbs",operator:sap.ui.model.FilterOperator.EQ,value1:"X"})]}),g=this.byId("btnShowAllWbs");g.setPressed(false);l=n.getBinding("items");l.filter([d])},handleSearchTableSelectDialogWbs:function(e){sap.ui.core.BusyIndicator.show();var t=e.getParameter("value"),a=new r({filters:[new r({path:"InputPosid",operator:sap.ui.model.FilterOperator.EQ,value1:t}),new r({path:"InputPost1",operator:sap.ui.model.FilterOperator.EQ,value1:t}),new r({path:"InputSearch",operator:sap.ui.model.FilterOperator.EQ,value1:"X"})],and:true}),s=e.getSource().getBinding("items");s.filter([a]);sap.ui.core.BusyIndicator.hide()},handleCloseTableSelectDialogWbs:function(e){var t=e.getSource().getBinding("items");t.filter([])},handleSelectTableSelectDialogWbs:function(e){sap.ui.core.BusyIndicator.show();var t=this.getOwnerComponent().getModel("mainService"),a=e.getSource().getBinding("items"),r=e.getParameters("selectedItems").selectedItems,s,o;a.filter([]);if(r.length>1){sap.ui.core.BusyIndicator.hide();that.showWbsPrefErrorMoreItems();return false}s=r[0];o=t.getProperty(s.getBindingContextPath());if(!o.Pref){sap.ui.core.BusyIndicator.hide();this.showWbsPrefErrorNotPreferred();return false}this._arrangeDialogFragmentCreateWithWbs(o)},_arrangeDialogFragmentCreateWithWbs:function(e){var t=this.getView();if(!this._pNewAppointmentDialog){this._pNewAppointmentDialog=a.load({id:t.getId(),name:"zfioritimesheet3.zfioritimesheet3n.view.FragmentCreazioneManager",controller:this}).then(function(e){t.addDependent(e);return e})}this._pNewAppointmentDialog.then(function(t){this._arrangeDialogCreateWithWbs(t,e)}.bind(this))},_arrangeDialogCreateWithWbs:function(e,t){var a="",r=this.getOwnerComponent().getModel("i18n").getResourceBundle(),s=this.byId("selectDipName"),o=this.byId("actType"),i=this.byId("wbsType"),n=this.byId("createStartDate"),d=this.byId("createEndDate"),g=this.byId("createGiornoDate"),u=this.byId("oreLavorate"),p=this.byId("appTitle"),m=this.byId("moreInfo");s.setValueState(l.None);o.setValueState(l.None);i.setValueState(l.None);n.setValueState(l.None);d.setValueState(l.None);g.setValueState(l.None);u.setValueState(l.None);p.setValueState(l.None);m.setValueState(l.None);this._setCreateAppointmentDialogContentCreateWithWbs(t);a=r.getText("titleCreateAppointmentDialog");e.setTitle(a);e.open();sap.ui.core.BusyIndicator.hide()},_setCreateAppointmentDialogContentCreateWithWbs:function(e){var t=this.getOwnerComponent().getModel("jsonManagerService"),a=this.getView().byId("planCaleTeam"),r,o=this.byId("createStartDate"),i=this.byId("createEndDate"),n=this.byId("createGiornoDate"),l=this.byId("appTitle"),d=this.byId("moreInfo"),g=this.byId("selectDipName"),u=this.byId("actType"),p=this.byId("wbsType"),m="LAV005",c="Lavoro",h,y,f,D,S,I,b=this.getOwnerComponent().getModel("paramModel"),v=t.getProperty("/people/0");if(a._dateNav._start){r=a._dateNav._start}else{r=new Date}if(b){if(b.oData){f=b.oData.startDate;D=b.oData.endDate;S=f.getHours().toString().padStart(2,"0")+":"+f.getMinutes().toString().padStart(2,"0");I=D.getHours().toString().padStart(2,"0")+":"+D.getMinutes().toString().padStart(2,"0");h=Math.abs(this.timeStringToDecimal(I)-this.timeStringToDecimal(S));if(h>0){y=this.roundTo2DecimalsString(h)}else{y=""}b.setData(null);b.updateBindings(true)}else{f=r;D=r;y=""}}else{f=r;D=r;y=""}var T=new Date(f),V=new Date(D);var t=this.getOwnerComponent().getModel("jsonManagerService");g.setValue(v.text);g.setSelectedItem(v.key);g.setSelectedKey(v.key);var w={userPernr:v.key2,user:v.key};var x=new sap.ui.model.json.JSONModel;x.setData(w);this.getOwnerComponent().setModel(x,"keyModel");var E=s.getDateTimeInstance({style:"medium"}).format(T);var M=s.getDateTimeInstance({style:"medium"}).format(V);var P=s.getDateInstance({style:"medium"}).format(T);o.setValue(E);i.setValue(M);n.setValue(P);l.setValue("");d.setValue("");u.setValue(c);u.setSelectedItem(m);u.setSelectedKey(m);p.setValue(e.Post1);p.setSelectedItem(e.Rproj);p.setSelectedKey(e.Rproj);p.setEditable(true);this.getView().byId("lCreateStartDate").setVisible(false);o.setVisible(false);this.getView().byId("lCreateEndDate").setVisible(false);i.setVisible(false);this.getView().byId("lGiornoDate").setVisible(true);n.setVisible(true);this.getView().byId("lOreLavorate").setVisible(true);this.getView().byId("oreLavorate").setVisible(true);this.getView().byId("oreLavorate").setValue(y)},onPressBtnShowAllWbs:function(e){var t=this.getView().byId("tableSelectDialogWbs"),a,s,o;t.setBusy(true);a=t.getBinding("items");if(e.getSource().getPressed()){o=""}else{o="X"}s=new r({filters:[new r({path:"InputExtractOnlyPrefWbs",operator:sap.ui.model.FilterOperator.EQ,value1:o})]});a.filter([s]);t.setBusy(false)},onPressBtnAddRemovePrefWbs:function(e){sap.ui.core.BusyIndicator.show();var t=this,a="mainService",r=t.getView().getModel(a),s=this.getOwnerComponent().getModel("i18n").getResourceBundle(),i=e.getSource().oParent.oBindingContexts.mainService.sPath,n=r.getProperty(i),l,d;if(n.Pref){d=""}else{d="X"}l={InputUname:"",InputPernr:"",InputRproj:"",Uname:n.Uname,Pernr:n.Pernr,Rproj:n.Rproj,Posid:n.Posid,Post1:n.Post1,Pbukr:n.Pbukr,Werks:n.Werks,Usr00:n.Usr00,Kostl:n.Kostl,Pref:d};if(d){r.create("/WbsPrefSet",l,{success:function(){r.refresh();sap.ui.core.BusyIndicator.hide();o.show(s.getText("messageToastWbsPrefSuccess"))},error:function(e){sap.ui.core.BusyIndicator.hide();t.showWbsPrefError(e,"C")}})}else{r.remove("/WbsPrefSet(Uname='"+n.Uname+"',Pernr='"+n.Pernr+"',Rproj='"+n.Rproj+"')",{success:function(){r.refresh();sap.ui.core.BusyIndicator.hide();o.show(s.getText("messageToastWbsPrefSuccess"))},error:function(e){sap.ui.core.BusyIndicator.hide();t.showWbsPrefError(e,"D")}})}},onPressBtnTeamDays:function(e){var t=e.getSource(),r=this.getView();if(!this._pDialog2){this._pDialog2=a.load({id:r.getId(),name:"zfioritimesheet3.zfioritimesheet3n.view.FragmentDaysManager",controller:this}).then(function(e){r.addDependent(e);return e})}this._pDialog2.then(function(e){this._configDialogDaysManager(t,e);if(e)e.open()}.bind(this))},_configDialogDaysManager:function(e,t){if(!e)e=this.byId("btnDaysManager");if(!t)t=this.byId("dialogDaysManager");var a=e.data("responsivePadding"),o="sapUiResponsivePadding--header sapUiResponsivePadding--subHeader sapUiResponsivePadding--content sapUiResponsivePadding--footer";if(a){t.addStyleClass(o)}else{t.removeStyleClass(o)}var i=s.getDateInstance({pattern:"yyyy-MM-dd",UTC:false}),n=this.getOwnerComponent().getModel("jsonManagerService"),d=n.getProperty("/people/0"),g=this.getView().byId("listDialogDaysManager"),u=this.byId("selectUserDialogDaysManager"),p=this.byId("dateRangeWorkdateDialogDaysManager"),m=this.byId("switchShowOnlyDaysInErrorDialogDaysManager"),c=new Date,h=i.format(new Date(c.getFullYear(),c.getMonth()-1,c.getDate())),y=i.format(new Date(c.getFullYear(),c.getMonth(),c.getDate())),f=g.getBinding("items"),D=new r({filters:[new r({path:"InputUname",operator:sap.ui.model.FilterOperator.EQ,value1:d.key}),new r({path:"InputPernr",operator:sap.ui.model.FilterOperator.EQ,value1:d.key2}),new r({path:"InputWorkdateFrom",operator:sap.ui.model.FilterOperator.EQ,value1:h}),new r({path:"InputWorkdateTo",operator:sap.ui.model.FilterOperator.EQ,value1:y}),new r({path:"InputExtractOnlyDaysError",operator:sap.ui.model.FilterOperator.EQ,value1:""})],and:true});u.setValueState(l.None);p.setValueState(l.None);u.setValue(d.text);u.setSelectedItem(d.key);u.setSelectedKey(d.key);p.setValue(s.getDateInstance({style:"medium"}).format(new Date(c.getFullYear(),c.getMonth()-1,c.getDate()))+"-"+s.getDateInstance({style:"medium"}).format(c));m.setState(false);f.filter([D])},onUpdateFinishedListDialogDaysManager:function(e){this._updateListItemCountDialogDaysManager(e.getParameter("total"))},_updateListItemCountDialogDaysManager:function(e){var t=this.getOwnerComponent().getModel("i18n").getResourceBundle();if(this.byId("listDialogDaysManager").getBinding("items").isLengthFinal())this.byId("labelInfoToolbarDialogDaysManager").setText(t.getText("textDisplaydEntriesDialogDays")+e)},onPressBtnCloseDialogDaysManager:function(){var e=this.byId("listDialogDaysManager").getBinding("items");e.filter([]);this.byId("dialogDaysManager").close()},onPressBtnApplySelectedFiltersDialogDaysManager:function(){var e=this.getView().byId("listDialogDaysManager");e.setBusy(true);var t=s.getDateInstance({pattern:"yyyy-MM-dd",UTC:false}),a=this.getOwnerComponent().getModel("jsonManagerService"),o=this.byId("selectUserDialogDaysManager"),i=this.byId("dateRangeWorkdateDialogDaysManager"),n=this.byId("switchShowOnlyDaysInErrorDialogDaysManager"),l=a.getProperty("/people"),d=a.getProperty("/people/"+l.findIndex(e=>e.key==o.getSelectedKey())),g=i.getDateValue(),u=i.getSecondDateValue(),p=t.format(g),m=t.format(u),c=n.getState()?"X":"";oBinding=e.getBinding("items"),oFilter=new r({filters:[new r({path:"InputUname",operator:sap.ui.model.FilterOperator.EQ,value1:d.key}),new r({path:"InputPernr",operator:sap.ui.model.FilterOperator.EQ,value1:d.key2}),new r({path:"InputWorkdateFrom",operator:sap.ui.model.FilterOperator.EQ,value1:p}),new r({path:"InputWorkdateTo",operator:sap.ui.model.FilterOperator.EQ,value1:m}),new r({path:"InputExtractOnlyDaysError",operator:sap.ui.model.FilterOperator.EQ,value1:c})],and:true});oBinding.filter([oFilter]);e.setBusy(false)},onChangeSelectUserDialogDaysManager:function(){this._validateFilterValuesDialogDaysManager()},onChangeDateRangeWorkdateDialogDaysManager:function(){this._validateFilterValuesDialogDaysManager()},onChangeSwitchShowOnlyDaysInErrorDialogDaysManager:function(){this._validateFilterValuesDialogDaysManager()},_validateFilterValuesDialogDaysManager:function(){var e=this.getOwnerComponent().getModel("i18n").getResourceBundle(),t=this.byId("selectUserDialogDaysManager"),a=this.byId("dateRangeWorkdateDialogDaysManager");if(!t.getSelectedKey()){t.setValueState(l.Error);t.setValueStateText(e.getText("validationErrorTextEmtpyUser"))}else{t.setValueState(l.None)}if(!a.getValue()){a.setValueState(l.Error);a.setValueStateText(e.getText("validationErrorTextEmtpyDateRangeDialogDays"))}else if(!a._bValid){a.setValueState(l.Error);a.setValueStateText(e.getText("validationErrorTextInvalidDateRangeDialogDays"))}else{a.setValueState(l.None)}this._updateEnabledStateBtnApplySelectedFiltersDialogDaysManager()},_updateEnabledStateBtnApplySelectedFiltersDialogDaysManager:function(){var e=this.byId("selectUserDialogDaysManager"),t=this.byId("dateRangeWorkdateDialogDaysManager"),a=this.byId("btnApplySelectedFiltersDialogDaysManager");bEnabled=t.getValueState()!==l.Error&&e.getValueState()!==l.Error;a.setEnabled(bEnabled)},handlePlanCaleTeamAppoSele:function(e){sap.ui.core.BusyIndicator.show();var t=e.getParameter("appointment");if(t){var a=this.getOwnerComponent().getModel("jsonManagerService");var r=t.mBindingInfos.key.binding.oContext.sPath;var s=a.getProperty(r);var o=new sap.ui.model.json.JSONModel;o.setData(s);this.getOwnerComponent().setModel(o,"keyModel");this._handleAppointmentSelection(t)}},_handleAppointmentSelection:function(e){var t=this.getView();if(!e){sap.ui.core.BusyIndicator.hide();return}if(!e.getSelected()&&this._pDetailsPopover){this._pDetailsPopover.then(function(e){e.close()});sap.ui.core.BusyIndicator.hide();return}if(!this._pDetailsPopover){this._pDetailsPopover=a.load({id:t.getId(),name:"zfioritimesheet3.zfioritimesheet3n.view.FragmentDetails",controller:this}).then(function(e){t.addDependent(e);return e})}this._pDetailsPopover.then(function(t){this._setDetailsDialogContent(e,t)}.bind(this));sap.ui.core.BusyIndicator.hide()},_setDetailsDialogContent:function(e,t){var a=this,r=this.getOwnerComponent().getModel("i18n").getResourceBundle(),o=this.byId("moreInfoText"),i=this.byId("shortTextText"),n=this.byId("longTextText"),l=this.byId("wbsText"),d=this.byId("labelStartDate"),g=this.byId("startDateText"),u=this.byId("endDateText"),p=this.byId("lEndDateText"),m=this.byId("endDateText"),c=this.byId("lOreLavoro"),h=this.byId("oreLavoro");var y=this.getOwnerComponent().getModel("jsonManagerService");var f=this.getOwnerComponent().getModel("mainService");var D=e.mBindingInfos.key.binding.oContext.sPath;var S=y.getProperty(D);var I="UserEventSet(Uname='"+S.user+"',Pernr='"+S.userPernr+"',Counter='"+S.key+"')";var b=f.oData[I];if(e.mBindingInfos===undefined)e=b.getParameter("appointment");if(b.Status!=="10"){sap.ui.core.BusyIndicator.hide();a.showErrorNotEditable();return false}if(b.Tasklevel=="ASS001"){m.setVisible(true);p.setVisible(true);c.setVisible(false);h.setVisible(false);d.setText(r.getText("textFromLabel2"));var v=new Date(S.startDate);if(v){oStartDateControl=s.getDateTimeInstance({style:"medium"}).format(v);g.setText(oStartDateControl)}var T=new Date(S.endDate);if(T){oEndDateControl=s.getDateTimeInstance({style:"medium"}).format(T);u.setText(oEndDateControl)}}else{m.setVisible(false);p.setVisible(false);c.setVisible(true);h.setVisible(true);d.setText(r.getText("textDayLabel2"));var v=b.Workdate;var V=parseInt(this.msToTime(b.Beguz.ms).substring(0,2));var w=parseInt(this.msToTime(b.Beguz.ms).substring(3,5));v.setHours(V);v.setMinutes(w);oStartDateControl=s.getDateInstance({style:"medium"}).format(v);g.setText(oStartDateControl);h.setText(b.Catshours)}o.setText(S.text);i.setText(S.description);n.setText(S.longDescription);l.setText(S.wbsDescription);t.openBy(e)},handleDeleteAppointment:function(e){var t=this;var a=this.byId("detailsPopover");var r=this.getView().getModel("i18n").getResourceBundle();var s=r.getText("msgDelete");sap.m.MessageBox.confirm(s,{title:r.getText("msgDeleteTitle"),initialFocus:i.Action.CANCEL,onClose:function(e){if(e===sap.m.MessageBox.Action.OK){sap.ui.core.BusyIndicator.show();t._removeAppointment();a.close()}else{}},styleClass:!jQuery.support.touch?"sapUiSizeCompact":""})},_removeAppointment:function(){sap.ui.core.BusyIndicator.show();var e=this.getOwnerComponent().getModel("mainService"),t=this.getOwnerComponent().getModel("jsonManagerService"),a=this.getOwnerComponent().getModel("keyModel"),r=this.getView().getModel("i18n").getResourceBundle(),s=this,i=0,n=0,l,d;var g=a.getData().user,u=a.getData().key,p=t.getProperty("/people"),m=p.findIndex(e=>e.key==g),c=t.getProperty("/people/"+m);e.remove("/UserEventSet(Uname='"+c.key+"',Pernr='"+c.key2+"',Counter='"+u+"')",{success:function(){t.getProperty("/people/").forEach(function(e){if(e.key===c.key){l="/people/"+i.toString();l+="/appointments";d=t.getProperty(l);d.forEach(function(e){if(e.key===u){d.splice(n,1)}n=n+1})}i=i+1});sap.ui.core.BusyIndicator.hide();o.show(r.getText("msgOkDeleted"));s._ricaricaUserEvent()},error:function(e){sap.ui.core.BusyIndicator.hide();s.showDeleteError(e)}})},handleEditButton:function(e){var t=this.byId("detailsPopover");t.close();this._arrangeDialogFragmentModifica()},_arrangeDialogFragmentModifica:function(){sap.ui.core.BusyIndicator.show();var e=this.getView();if(!this._pModAppointmentDialog){this._pModAppointmentDialog=a.load({id:e.getId(),name:"zfioritimesheet3.zfioritimesheet3n.view.FragmentModificaManager",controller:this}).then(function(t){e.addDependent(t);return t})}this._pModAppointmentDialog.then(function(e){this._arrangeDialogModifica(e)}.bind(this))},_arrangeDialogModifica:function(e){var t=this.getOwnerComponent().getModel("i18n").getResourceBundle(),a="";this._setAppointmentDialogModifica();a=t.getText("titleEditAppointmentDialog");e.setTitle(a);sap.ui.core.BusyIndicator.hide();e.open()},_setAppointmentDialogModifica:function(){var e=this.getOwnerComponent().getModel("jsonManagerService"),t=this.byId("selectModName"),a=this.byId("modActType"),r=this.byId("modWbsType"),o=this.byId("lModStartDate"),i=this.byId("modStartDate"),n=this.byId("lModEndDate"),d=this.byId("modEndDate"),g=this.byId("lModGiornoDate"),u=this.byId("modGiornoDate"),p=this.byId("lModOreLavorate"),m=this.byId("modOreLavorate"),c=this.byId("modAppTitle"),h=this.byId("modMoreInfo"),y,f,D,S,I,b,v=this.byId("modActType"),T=this.byId("modWbsType"),V=this.byId("modStartDate"),w=this.byId("modEndDate"),x=this.byId("modGiornoDate"),E=this.byId("modOreLavorate"),M=this.byId("modAppTitle"),P=this.byId("modMoreInfo");v.setValueState(l.None);T.setValueState(l.None);V.setValueState(l.None);w.setValueState(l.None);x.setValueState(l.None);E.setValueState(l.None);M.setValueState(l.None);P.setValueState(l.None);var C=this.getOwnerComponent().getModel("mainService");var k=this.getOwnerComponent().getModel("keyModel");var B=k.getData().user,O=k.getData().key;var U=e.getProperty("/people"),R=e.getProperty("/people/"+U.findIndex(e=>e.key==B));t.setValue(R.text);t.setSelectedItem(R.key);t.setSelectedKey(R.key);c.setValue(this.byId("shortTextText").getText());h.setValue(this.byId("longTextText").getText());var A="UserEventSet(Uname='"+R.key+"',Pernr='"+R.key2+"',Counter='"+O+"')";var N=C.oData[A];a.setValue(N.Tasklevelx);a.setSelectedItem(N.Tasklevel);a.setSelectedKey(N.Tasklevel);if(N.Tasklevel=="ASS001"){r.setEditable(false);i.setVisible(true);o.setVisible(true);d.setVisible(true);n.setVisible(true);g.setVisible(false);u.setVisible(false);p.setVisible(false);m.setVisible(false);r.setValue("");r.setSelectedItem("");r.setSelectedKey("");I=new Date(N.Workdate.getFullYear(),N.Workdate.getMonth(),N.Workdate.getDate());b=s.getDateTimeInstance({style:"short"}).format(I).substring(0,8);y=new Date(I);y.setHours(this.msToTime(N.Beguz.ms).split(":")[0]);y.setMinutes(this.msToTime(N.Beguz.ms).split(":")[1]);y.setSeconds(this.msToTime(N.Beguz.ms).split(":")[2].substring(0,2));D=this.dateToString(y);f=new Date(I);f.setHours(this.msToTime(N.Enduz.ms).split(":")[0]);f.setMinutes(this.msToTime(N.Enduz.ms).split(":")[1]);f.setSeconds(this.msToTime(N.Enduz.ms).split(":")[2].substring(0,2));S=this.dateToString(f);u.setValue(b);i.setValue(D);d.setValue(S);m.setValue(N.Catshours)}else{r.setEditable(true);i.setVisible(false);o.setVisible(false);d.setVisible(false);n.setVisible(false);g.setVisible(true);u.setVisible(true);p.setVisible(true);m.setVisible(true);r.setValue(N.Post1);r.setSelectedItem(N.Rproj);r.setSelectedKey(N.Rproj);I=new Date(N.Workdate.getFullYear(),N.Workdate.getMonth(),N.Workdate.getDate());b=s.getDateTimeInstance({style:"short"}).format(I).substring(0,8);y=new Date;y.setHours(0);y.setMinutes(0);y.setSeconds(0);D=this.dateToString(y);f=new Date;f.setHours(0);f.setMinutes(0);f.setSeconds(0);S=this.dateToString(f);u.setValue(b);i.setValue(D);d.setValue(S);m.setValue(N.Catshours)}},handleChangeSelectActivityModifica:function(){var e=this.getOwnerComponent().getModel("jsonManagerService");var t=this.getOwnerComponent().getModel("mainService");var a=this.getOwnerComponent().getModel("keyModel");var r=a.getData().user;var o=a.getData().key;var i=e.getProperty("/people"),n=e.getProperty("/people/"+i.findIndex(e=>e.key==r));var l="UserEventSet(Uname='"+n.key+"',Pernr='"+n.key2+"',Counter='"+o+"')";var d=t.oData[l];var g=this.getView().byId("modActType");var u=this.byId("modWbsType");if(g)var p=g.getSelectedItem().mBindingInfos.key.binding.oContext.sPath;var t=this.getOwnerComponent().getModel("mainService");var m=t.getProperty(p);if(m.Tasklevel=="ASS001"){u.setValue("");u.setSelectedItem("");u.setSelectedKey("");u.setEditable(false)}else{u.setValue(d.Post1);u.setSelectedItem(d.Rproj);u.setSelectedKey(d.Rproj);u.setEditable(true)}if(m.FlgInputNumOre==="X"){this.getView().byId("lModStartDate").setVisible(false);this.getView().byId("modStartDate").setVisible(false);this.getView().byId("lModEndDate").setVisible(false);this.getView().byId("modEndDate").setVisible(false);this.getView().byId("lModGiornoDate").setVisible(true);this.getView().byId("modGiornoDate").setVisible(true);this.getView().byId("lModOreLavorate").setVisible(true);this.getView().byId("modOreLavorate").setVisible(true);var c=this.getView().byId("planCaleTeam").getStartDate();var h=s.getDateInstance({style:"medium"}).format(c);this.getView().byId("modGiornoDate").setValue(h)}else{this.getView().byId("lModStartDate").setVisible(true);this.getView().byId("modStartDate").setVisible(true);this.getView().byId("lModEndDate").setVisible(true);this.getView().byId("modEndDate").setVisible(true);this.getView().byId("lModGiornoDate").setVisible(false);this.getView().byId("modGiornoDate").setVisible(false);this.getView().byId("lModOreLavorate").setVisible(false);this.getView().byId("modOreLavorate").setVisible(false);c=this.getView().byId("planCaleTeam").getStartDate();h=s.getDateTimeInstance({style:"medium"}).format(c);this.getView().byId("modStartDate").setValue(h);this.getView().byId("modEndDate").setValue(h)}this.onChangeInputValuesModifica()},handleDialogModificaSaveButton:function(){var e=this.getOwnerComponent().getModel("jsonManagerService"),t=this.byId("modActType"),a="",r=this.byId("modWbsType"),s="",o=this.byId("modStartDate"),i=this.byId("modEndDate"),n=this.byId("modGiornoDate"),d=this.getOwnerComponent().getModel("mainService"),g=this.getOwnerComponent().getModel("keyModel"),u=this.byId("modificaDialogManager"),p;var m=g.getData().user,c=e.getProperty("/people"),h=e.getProperty("/people/"+c.findIndex(e=>e.key==m));if(i.getDateValue()===null){i.setDateValue(o.getDateValue())}if(o.getValueState()!==l.Error&&i.getValueState()!==l.Error){var y=this.getView().byId("modOreLavorate").getValue();if(!(y>0)){var f=o.getDateValue();var D=i.getDateValue()}else{f=n.getDateValue();D=n.getDateValue()}if(t.getSelectedItem()){a=t.getSelectedItem().mProperties.text}if(r.getSelectedItem()){s=r.getSelectedItem().mProperties.text}p={key:"",title:s,text:a,description:this.byId("modAppTitle").getValue(),longDescription:this.byId("modMoreInfo").getValue(),startDate:f,endDate:D,icon:"sap-icon://activity-2",selected:false,tentative:false,type:"",user:h.key,userPernr:h.key2,wbs:this.byId("modWbsType").getSelectedKey(),wbsDescription:s};this._addNewAppointmentModifica(p);d.updateBindings();u.close()}},_addNewAppointmentModifica:function(e){var t=this.getOwnerComponent().getModel("jsonManagerService"),a=this.byId("modStartDate").getDateValue(),r=this.byId("modEndDate").getDateValue(),n=this.byId("modGiornoDate").getDateValue(),l=this.getOwnerComponent().getModel("mainService"),d=this.getOwnerComponent().getModel("keyModel"),g=this,u;var p=s.getDateInstance({pattern:"PTHH'H'mm'M'ss'S'"});var m=this.getView().byId("modActType");var c=this.getView().byId("modWbsType");var h=this.getView().byId("modAppTitle");var y=this.getView().byId("modMoreInfo");var f,D;var u,S,I,b,v;if(m.getSelectedItem()){u=m.getSelectedItem().mBindingInfos.key.binding.oContext.sPath;S=l.getProperty(u);I={Tasktype:S.Tasktype,Tasklevel:S.Tasklevel,Tasklevelx:S.Tasklevelx}}else{I={Tasktype:"",Tasklevel:"",Tasklevelx:""}}if(c.getSelectedItem()){u=c.getSelectedItem().mBindingInfos.key.binding.oContext.sPath;b=l.getProperty(u);v={Rproj:b.Rproj,Posid:b.Posid,Post1:b.Post1}}else{v={Rproj:"",Posid:"",Post1:""}}if(!a)a=n;if(!r)r=n;var T=this.getView().byId("modOreLavorate").getValue();if(T==""){f=p.format(a);D=p.format(r)}else{var V=new Date;V.setHours("0");V.setMinutes("0");V.setSeconds("0");V.setMilliseconds("0");f=D=p.format(V)}var w=d.getData().key;oPersonUname=d.getData().user,aPersons=t.getProperty("/people"),oUser=t.getProperty("/people/"+aPersons.findIndex(e=>e.key==oPersonUname));var x={InputUname:oUser.key,InputPernr:oUser.key2,InputCounter:w,InputTsSearchFrom:a,InputTsSearchTo:r,Uname:oUser.key,Pernr:oUser.key2,Counter:w,Workdate:n,Rproj:v.Rproj,Posid:v.Posid,Post1:v.Post1,Tasktype:I.Tasktype,Tasklevel:I.Tasklevel,Tasklevelx:I.Tasklevelx,Catshours:T,Beguz:f,Enduz:D,Ltxa1:h.getValue(),LongText:y.getValue(),Status:"",Statusx:"",TsSearchFrom:a,TsSearchTo:r};var E=this.getOwnerComponent().getModel("mainService");sap.ui.core.BusyIndicator.show();E.callFunction("/ModificaUserEvent",{method:"GET",urlParameters:x,success:function(e){sap.ui.core.BusyIndicator.hide();if(e.message){var t=e.ModificaUserEvent.Message;i.error(t,{title:oI18n.getText("msgError"),styleClass:!jQuery.support.touch?"sapUiSizeCompact":""})}else{var a=g.getView().getModel("i18n").getResourceBundle();o.show(a.getText("msgOkEdited"));g._ricaricaUserEvent()}},error:function(e){sap.ui.core.BusyIndicator.hide();g.showUpdateError(e)}})},handleDialogModificaCancelButton:function(){this.byId("modificaDialogManager").close()},onPressBtnTeamAddAppointment:function(e){this._arrangeDialogFragmentCreate()},_arrangeDialogFragmentCreate:function(){sap.ui.core.BusyIndicator.show();var e=this.getView();if(!this._pNewAppointmentDialog){this._pNewAppointmentDialog=a.load({id:e.getId(),name:"zfioritimesheet3.zfioritimesheet3n.view.FragmentCreazioneManager",controller:this}).then(function(t,a){e.addDependent(t);return t})}this._pNewAppointmentDialog.then(function(e){this._arrangeDialogCreate(e)}.bind(this))},_arrangeDialogCreate:function(e){var t="",a=this.getOwnerComponent().getModel("i18n").getResourceBundle(),r=this.byId("selectDipName"),s=this.byId("actType"),o=this.byId("wbsType"),i=this.byId("createStartDate"),n=this.byId("createEndDate"),d=this.byId("createGiornoDate"),g=this.byId("oreLavorate"),u=this.byId("appTitle"),p=this.byId("moreInfo");r.setValueState(l.None);s.setValueState(l.None);o.setValueState(l.None);i.setValueState(l.None);n.setValueState(l.None);d.setValueState(l.None);g.setValueState(l.None);u.setValueState(l.None);p.setValueState(l.None);this._setCreateAppointmentDialogContentCreate();t=a.getText("titleCreateAppointmentDialog");e.setTitle(t);e.open();sap.ui.core.BusyIndicator.hide()},_setCreateAppointmentDialogContentCreate:function(){var e=this.getOwnerComponent().getModel("jsonManagerService"),t=this.getView().byId("planCaleTeam"),a,r=this.byId("createStartDate"),o=this.byId("createEndDate"),i=this.byId("createGiornoDate"),n=this.byId("appTitle"),l=this.byId("moreInfo"),d=this.byId("selectDipName"),g=this.byId("actType"),u=this.byId("wbsType"),p="LAV005",m="Lavoro",c,h,y,f,D,S,I=this.getOwnerComponent().getModel("paramModel"),b=e.getProperty("/people/0"),v;if(t._dateNav._start){a=t._dateNav._start}else{a=new Date}if(I){if(I.oData){y=I.oData.startDate;f=I.oData.endDate;D=y.getHours().toString().padStart(2,"0")+":"+y.getMinutes().toString().padStart(2,"0");S=f.getHours().toString().padStart(2,"0")+":"+f.getMinutes().toString().padStart(2,"0");c=Math.abs(this.timeStringToDecimal(S)-this.timeStringToDecimal(D));if(c>0){h=this.roundTo2DecimalsString(c)}else{h=""}if(I.oData.row){d.setValue(I.oData.row.mProperties.text);d.setSelectedItem(I.oData.row.mProperties.key);d.setSelectedKey(I.oData.row.mProperties.key);v={userPernr:I.oData.row.mProperties.key2,user:I.oData.row.mProperties.key}}else if(I.oData.calendarRow){d.setValue(I.oData.calendarRow.mProperties.text);d.setSelectedItem(I.oData.calendarRow.mProperties.key);d.setSelectedKey(I.oData.calendarRow.mProperties.key);v={userPernr:I.oData.calendarRow.mProperties.key2,user:I.oData.calendarRow.mProperties.key}}else{d.setValue(b.text);d.setSelectedItem(b.key);d.setSelectedKey(b.key);v={userPernr:b.key2,user:b.key}}I.setData(null);I.updateBindings(true)}else{y=a;f=a;h="";d.setValue(b.text);d.setSelectedItem(b.key);d.setSelectedKey(b.key);v={userPernr:b.key2,user:b.key}}}else{y=a;f=a;h="";d.setValue(b.text);d.setSelectedItem(b.key);d.setSelectedKey(b.key);v={userPernr:b.key2,user:b.key}}var T=new Date(y),V=new Date(f);var w=new sap.ui.model.json.JSONModel;w.setData(v);this.getOwnerComponent().setModel(w,"keyModel");var x=s.getDateTimeInstance({style:"medium"}).format(T);var E=s.getDateTimeInstance({style:"medium"}).format(V);var M=s.getDateInstance({style:"medium"}).format(T);r.setValue(x);o.setValue(E);i.setValue(M);n.setValue("");l.setValue("");g.setValue(m);g.setSelectedItem(p);g.setSelectedKey(p);u.setSelectedKey("");u.setEditable(true);this.getView().byId("lCreateStartDate").setVisible(false);r.setVisible(false);this.getView().byId("lCreateEndDate").setVisible(false);o.setVisible(false);this.getView().byId("lGiornoDate").setVisible(true);i.setVisible(true);this.getView().byId("lOreLavorate").setVisible(true);this.getView().byId("oreLavorate").setVisible(true);this.getView().byId("oreLavorate").setValue(h)},handleDialogSaveButtonCreate:function(){sap.ui.core.BusyIndicator.show();var e=this.byId("createStartDate"),t=this.byId("createEndDate"),a=this.byId("moreInfo").getValue(),r=this.byId("appTitle").getValue(),s=this.getOwnerComponent().getModel("mainService"),o=this.byId("createDialogManager"),i;if(e.getValueState()!==l.Error&&t.getValueState()!==l.Error){i={title:r,info:a,start:e.getDateValue(),end:t.getDateValue()};this._addNewAppointmentCreate(i)}s.updateBindings();o.close()},_addNewAppointmentCreate:function(e){var t=this,a=t.getView(),r;var i=s.getDateInstance({pattern:"PTHH'H'mm'M'ss'S'"});var n=this.getOwnerComponent().getModel("keyModel");var l=this.getOwnerComponent().getModel("mainService");var d="";var g=null;var u=a.byId("appTitle");var p=a.byId("moreInfo");var m=a.byId("actType");var r,c,h;r=m.getSelectedItem().mBindingInfos.key.binding.oContext.sPath;c=l.getProperty(r);var y=a.byId("wbsType");if(y.getSelectedItem()){r=y.getSelectedItem().mBindingInfos.key.binding.oContext.sPath;h=l.getProperty(r)}else{h={Rproj:"",Posid:"",Post1:""}}var f=a.byId("createStartDate").getDateValue();var D=a.byId("createEndDate").getDateValue();var S=a.byId("createGiornoDate").getDateValue();var I=a.byId("oreLavorate").getValue();var b;if(a.byId("oreLavorate").getVisible())b="X";if(!b){I="0.00";var v=new Date(f);v.setHours(parseInt(f.getHours()),parseInt(f.getMinutes()),parseInt(f.getSeconds()));var T=i.format(v);v=new Date(D);v.setHours(parseInt(D.getHours()),parseInt(D.getMinutes()),parseInt(D.getSeconds()));var V=i.format(v)}else{T=g;V=g}if(D===g){D=f}var w=n.getData().user,x=n.getData().userPernr,E=this.dateToYyyyMmDd(S);var M={InputUname:d,InputPernr:d,InputCounter:d,InputTsSearchFrom:g,InputTsSearchTo:g,Uname:w,Pernr:x,Counter:"00000000000",Workdate:S,WorkdateChar:E,Rproj:h.Rproj,Posid:h.Posid,Post1:h.Post1,Tasktype:c.Tasktype,Tasklevel:c.Tasklevel,Tasklevelx:c.Tasklevelx,Catshours:I,Beguz:T,Enduz:V,Ltxa1:u.getValue(),LongText:p.getValue(),Status:d,Statusx:d,TsSearchFrom:g,TsSearchTo:g};var P=this.getOwnerComponent().getModel("mainService");P.create("/UserEventSet",M,{success:function(){sap.ui.core.BusyIndicator.hide();var e=a.getModel("i18n").getResourceBundle();o.show(e.getText("msgOkInsert"));t._ricaricaUserEvent()},error:function(e){sap.ui.core.BusyIndicator.hide();t.showCreateError(e)}})},onSelectDipNameChange:function(){var e=this.getOwnerComponent().getModel("jsonManagerService"),t=this.getOwnerComponent().getModel("keyModel"),a=this.byId("selectDipName").getSelectedKey(),r=e.getProperty("/people"),s=e.getProperty("/people/"+r.findIndex(e=>e.key==a));oKey={userPernr:s.key2,user:s.key};t.setData(null);t.updateBindings(true);var o=new sap.ui.model.json.JSONModel;o.setData(oKey);this.getOwnerComponent().setModel(o,"keyModel");this.onChangeInputValuesCreate()},_ricaricaUserEvent:function(){var e=this,t="mainService",a="jsonManagerService",o=this.getOwnerComponent().getModel(t),i=this.getOwnerComponent().getModel(a),n=this.getOwnerComponent().getModel("keyModel");var l=n.getData().user,d=i.getProperty("/people"),g=i.getProperty("/people/"+d.findIndex(e=>e.key==l));var u=s.getDateInstance({pattern:"yyyy-MM-dd",UTC:false});var p=new Date,m=u.format(new Date(p.getFullYear(),p.getMonth()-1,p.getDate())),c=u.format(new Date(p.getFullYear(),p.getMonth()+1,p.getDate())),h=new r({filters:[new r({path:"InputUname",operator:sap.ui.model.FilterOperator.EQ,value1:g.key}),new r({path:"InputPernr",operator:sap.ui.model.FilterOperator.EQ,value1:g.key2}),new r({path:"InputTsSearchFrom",operator:sap.ui.model.FilterOperator.EQ,value1:m}),new r({path:"InputTsSearchTo",operator:sap.ui.model.FilterOperator.EQ,value1:c})],and:true}),y="";y=h;o.read("/UserEventSet",{filters:[y],success:function(t){var a=i.getProperty("/people"),r="/people/"+a.findIndex(e=>e.key==g.key)+"/appointments",s=i.getProperty(r),o,n;s.splice(0,s.length);for(n=0;n<t.results.length;n++){if(t.results[n].Uname===g.key){if(t.results[n].Tasktype=="AS01")t.results[n].Catshours="0.00";var l=new Date(t.results[n].Workdate),d,u,p;d=e.dateToYyyyMmDd(l)+"T"+e.msToTime(t.results[n].Beguz.ms);u=e.dateToYyyyMmDd(l)+"T"+e.msToTime(t.results[n].Enduz.ms);switch(t.results[n].Status){case"10":if(t.results[n].Tasklevel=="LAV005"){p="Type01"}else{p="Type08"}break;case"20":if(t.results[n].Tasklevel=="LAV005"){p="Type02"}else{p="Type09"}break;case"30":if(t.results[n].Tasklevel=="LAV005"){p="Type06"}else{p="Type10"}break;case"40":if(t.results[n].Tasklevel=="LAV005"){p="Type03"}else{p="Type11"}break;case"50":if(t.results[n].Tasklevel=="LAV005"){p="Type04"}else{p="Type12"}break;case"60":if(t.results[n].Tasklevel=="LAV005"){p="Type05"}else{p="Type13"}break;default:p="Type07"}o={key:t.results[n].Counter,title:t.results[n].Post1,text:t.results[n].Tasklevelx,description:t.results[n].Ltxa1,longDescription:t.results[n].LongText,startDate:d,endDate:u,icon:"sap-icon://activity-2",selected:false,tentative:false,type:p,user:t.results[n].Uname,userPernr:t.results[n].Pernr,wbs:t.results[n].Posid,wbsDescription:t.results[n].Post1};s.push(o)}}if(i.setProperty(r,s)){i.refresh();sap.ui.core.BusyIndicator.hide()}},error:function(t){sap.ui.core.BusyIndicator.hide();e.showUnknownError(t)}})},handleDialogCancelButtonCreate:function(){this.byId("createDialogManager").close()},handleChangeSelectActivityCreate:function(){var e;var t=this.getView().byId("actType");if(t)e=t.getSelectedItem().mBindingInfos.key.binding.oContext.sPath;var a=this.byId("wbsType");var r=this.getOwnerComponent().getModel("mainService");var s=r.getProperty(e);if(s.Tasklevel=="ASS001"){a.setValue("");a.setSelectedItem("");a.setSelectedKey("");a.setEditable(false)}else{a.setEditable(true)}if(s.FlgInputNumOre==="X"){this.getView().byId("lCreateStartDate").setVisible(false);this.getView().byId("createStartDate").setVisible(false);this.getView().byId("lCreateEndDate").setVisible(false);this.getView().byId("createEndDate").setVisible(false);this.getView().byId("lGiornoDate").setVisible(true);this.getView().byId("createGiornoDate").setVisible(true);this.getView().byId("lOreLavorate").setVisible(true);this.getView().byId("oreLavorate").setVisible(true)}else{this.getView().byId("lCreateStartDate").setVisible(true);this.getView().byId("createStartDate").setVisible(true);this.getView().byId("lCreateEndDate").setVisible(true);this.getView().byId("createEndDate").setVisible(true);this.getView().byId("lGiornoDate").setVisible(false);this.getView().byId("createGiornoDate").setVisible(false);this.getView().byId("lOreLavorate").setVisible(false);this.getView().byId("oreLavorate").setVisible(false)}this.onChangeInputValuesCreate()},validateStartEndDateTimePickerCreate:function(e,a){var r=this.getOwnerComponent().getModel("i18n").getResourceBundle(),s=e.getDateValue(),o=a.getDateValue(),i=r.getText("validationErrorTextStartEndDateTimePicker");if(s&&o&&o.getTime()<=s.getTime()){e.setValueState(t.ValueState.Error);a.setValueState(t.ValueState.Error);e.setValueStateText(i);a.setValueStateText(i)}else{e.setValueState(t.ValueState.None);a.setValueState(t.ValueState.None)}},onChangeStartEndDateInputValuesCreate:function(e){var a=this.getOwnerComponent().getModel("i18n").getResourceBundle(),r=this.byId("createStartDate"),s=this.byId("createEndDate"),o=this.byId("oreLavorate"),i=o.getVisible()?"X":"";if(!i){if(e.getParameter("valid")){this.validateStartEndDateTimePickerCreate(r,s)}else{e.getSource().setValueState(t.ValueState.Error);e.getSource().setValueStateText(a.getText("validationErrorTextInvalidStartEndDateTimePicker"))}this.updateButtonEnabledStateAfterInputValidationCreate(this.byId("createDialogManager"),i)}},onChangeInputValuesCreate:function(){var e=this.getOwnerComponent().getModel("i18n").getResourceBundle(),t=this.byId("selectDipName"),a=this.byId("actType"),r=this.byId("wbsType"),s=this.byId("createGiornoDate"),o=this.byId("oreLavorate"),i=this.byId("appTitle"),n=this.byId("moreInfo"),d=o.getVisible()?"X":"";if(!t.getSelectedKey()){t.setValueState(l.Error);t.setValueStateText(e.getText("validationErrorTextEmtpyUser"))}else{t.setValueState(l.None)}if(!a.getSelectedKey()){a.setValueState(l.Error);a.setValueStateText(e.getText("validationErrorTextEmtpyActivity"))}else{a.setValueState(l.None)}if(d){if(!r.getSelectedKey()){r.setValueState(l.Error);r.setValueStateText(e.getText("validationErrorTextEmtpyWbs"))}else{r.setValueState(l.None)}if(!o.getValue().toString().replace(/\s+/g,"")){o.setValueState(l.Error);o.setValueStateText(e.getText("validationErrorTextEmptyWorkedHours"))}else if(!(parseFloat(o.getValue())>0)){o.setValueState(l.Error);o.setValueStateText(e.getText("validationErrorTextInvalidWorkedHours"))}else if(parseFloat(o.getValue())>23.99){o.setValueState(l.Error);o.setValueStateText(e.getText("validationErrorTextLongerWorkedHours"))}else{o.setValueState(l.None)}if(!s.getValue().replace(/\s+/g,"")){s.setValueState(l.Error);s.setValueStateText(e.getText("validationErrorTextEmtpyWorkdate"))}else if(!s._bValid){s.setValueState(l.Error);s.setValueStateText(e.getText("validationErrorTextInvalidWorkdate"))}else{s.setValueState(l.None)}}if(i.getValue().length>40){i.setValueState(l.Error);i.setValueStateText(e.getText("validationErrorTextLongerShortDescription"))}else{i.setValueState(l.None)}if(n.getValue().length>132){n.setValueState(l.Error);n.setValueStateText(e.getText("validationErrorTextLongerAdditionalInformation"))}else{n.setValueState(l.None)}this.updateButtonEnabledStateAfterInputValidationCreate(this.byId("createDialogManager"),d)},updateButtonEnabledStateAfterInputValidationCreate:function(e,t){var a=this.byId("selectDipName"),r=this.byId("actType"),s=this.byId("wbsType"),o=this.byId("createStartDate"),i=this.byId("createEndDate"),n=this.byId("createGiornoDate"),d=this.byId("oreLavorate"),g=this.byId("appTitle"),u=this.byId("moreInfo"),p;if(t){p=a.getValueState()!==l.Error&&r.getValueState()!==l.Error&&s.getValueState()!==l.Error&&n.getValueState()!==l.Error&&d.getValueState()!==l.Error&&g.getValueState()!==l.Error&&u.getValueState()!==l.Error}else{p=a.getValueState()!==l.Error&&r.getValueState()!==l.Error&&o.getValueState()!==l.Error&&i.getValueState()!==l.Error&&g.getValueState()!==l.Error&&u.getValueState()!==l.Error}e.getBeginButton().setEnabled(p)},onChangeStartEndDateInputValuesModifica:function(e){var a=this.getOwnerComponent().getModel("i18n").getResourceBundle(),r=this.byId("modStartDate"),s=this.byId("modEndDate"),o=this.byId("modOreLavorate"),i=o.getVisible()?"X":"";if(!i){if(e.getParameter("valid")){this.validateStartEndDateTimePickerCreate(r,s)}else{e.getSource().setValueState(t.ValueState.Error);e.getSource().setValueStateText(a.getText("validationErrorTextInvalidStartEndDateTimePicker"))}this.updateButtonEnabledStateAfterInputValidationModifica(this.byId("modificaDialogManager"),i)}},onChangeInputValuesModifica:function(){var e=this.getOwnerComponent().getModel("i18n").getResourceBundle(),t=this.byId("modActType"),a=this.byId("modWbsType"),r=this.byId("modOreLavorate"),s=this.byId("modAppTitle"),o=this.byId("modMoreInfo"),i=r.getVisible()?"X":"";if(!t.getSelectedKey()){t.setValueState(l.Error);t.setValueStateText(e.getText("validationErrorTextEmtpyActivity"))}else{t.setValueState(l.None)}if(i){if(!a.getSelectedKey()){a.setValueState(l.Error);a.setValueStateText(e.getText("validationErrorTextEmtpyWbs"))}else{a.setValueState(l.None)}if(!r.getValue().toString().replace(/\s+/g,"")){r.setValueState(l.Error);r.setValueStateText(e.getText("validationErrorTextEmptyWorkedHours"))}else if(!(parseFloat(r.getValue())>0)){r.setValueState(l.Error);r.setValueStateText(e.getText("validationErrorTextInvalidWorkedHours"))}else if(parseFloat(r.getValue())>23.99){r.setValueState(l.Error);r.setValueStateText(e.getText("validationErrorTextLongerWorkedHours"))}else{r.setValueState(l.None)}}if(s.getValue().length>40){s.setValueState(l.Error);s.setValueStateText(e.getText("validationErrorTextLongerShortDescription"))}else{s.setValueState(l.None)}if(o.getValue().length>132){o.setValueState(l.Error);o.setValueStateText(e.getText("validationErrorTextLongerAdditionalInformation"))}else{o.setValueState(l.None)}this.updateButtonEnabledStateAfterInputValidationModifica(this.byId("modificaDialogManager"),i)},updateButtonEnabledStateAfterInputValidationModifica:function(e,t){var a=this.byId("modActType"),r=this.byId("modWbsType"),s=this.byId("modStartDate"),o=this.byId("modEndDate"),i=this.byId("modOreLavorate"),n=this.byId("modAppTitle"),d=this.byId("modMoreInfo"),g;if(t){g=a.getValueState()!==l.Error&&r.getValueState()!==l.Error&&i.getValueState()!==l.Error&&n.getValueState()!==l.Error&&d.getValueState()!==l.Error}else{g=a.getValueState()!==l.Error&&s.getValueState()!==l.Error&&o.getValueState()!==l.Error&&n.getValueState()!==l.Error&&d.getValueState()!==l.Error}e.getBeginButton().setEnabled(g)},handleTeamAppointmentAddWithContext:function(e){var t=e.getParameters(),a=new sap.ui.model.json.JSONModel,r=new Date(t.endDate);t.endDate=new Date(r.getTime()+1e3);this.oClickEventParameters=t;a.setData(t);this.getOwnerComponent().setModel(a,"paramModel");this._arrangeDialogFragmentCreate()},onPlanCaleTeamCreate:function(e){var t=new sap.ui.model.json.JSONModel;t.setData(e.getParameters());this.getOwnerComponent().setModel(t,"paramModel");this.onPressBtnTeamAddAppointment(e)},onPlanCaleTeamDragEnter:function(e){var t=new sap.ui.model.json.JSONModel;var a={counter:e.mParameters.appointment.mProperties.key,user:e.oSource.mProperties.key};t.setData(a);this.getOwnerComponent().setModel(t,"keyModel");if(this.isAppointmentOverlap(e,e.getParameter("calendarRow"))){e.preventDefault()}},isAppointmentOverlap:function(e,t){var a=e.getParameter("appointment"),r=e.getParameter("startDate"),s=e.getParameter("endDate"),o;o=t.getAppointments().some(function(e){if(e===a){return}var t=e.getStartDate().getTime(),o=e.getEndDate().getTime();if(t<=r.getTime()&&r.getTime()<o){return true}if(t<s.getTime()&&s.getTime()<=o){return true}if(r.getTime()<=t&&t<s.getTime()){return true}});return o},onPlanCaleTeamResize:function(e){sap.ui.core.BusyIndicator.show();var t=e.getParameter("appointment"),a=new sap.ui.model.json.JSONModel;oKey={counter:e.mParameters.appointment.mProperties.key,user:e.oSource.mProperties.key};a.setData(oKey);this.getOwnerComponent().setModel(a,"keyModel");this._appointmentResize(t,e)},_appointmentResize:function(e,t){var a=t.getParameter("startDate"),r=t.getParameter("endDate"),n=this.getOwnerComponent().getModel("jsonManagerService"),l=this.getOwnerComponent().getModel("mainService"),d=this,g,u=s.getDateInstance({pattern:"PTHH'H'mm'M'ss'S'"});if(e.mBindingInfos===undefined){oAppointmentPath=t.getParameter("appointment");var g=oAppointmentPath.mBindingInfos.key.binding.oContext.sPath}else{g=e.mBindingInfos.key.binding.oContext.sPath}var p=n.getProperty(g);var m="UserEventSet(Uname='"+t.oSource.getKey()+"',Pernr='"+p.userPernr+"',Counter='"+t.getParameters().appointment.getProperty("key")+"')";var c=l.oData[m];if(c.Status!=="10"){sap.ui.core.BusyIndicator.hide();d.showErrorNotEditable();return false}var h=new Date(a);h.setHours(parseInt(a.getHours()),parseInt(a.getMinutes()),parseInt(a.getSeconds()));var y=u.format(h);h=new Date(r);h.setHours(parseInt(r.getHours()),parseInt(r.getMinutes()),parseInt(r.getSeconds()));var f=u.format(h);if(r===null){r.setDateValue(a)}var D=a;var S=a.getHours().toString().padStart(2,"0")+":"+a.getMinutes().toString().padStart(2,"0");var I=r.getHours().toString().padStart(2,"0")+":"+r.getMinutes().toString().padStart(2,"0");var b=Math.abs(this.timeStringToDecimal(I)-this.timeStringToDecimal(S));var v=this.roundTo2DecimalsString(b);var T={InputUname:c.InputUname,InputPernr:c.InputPernr,InputCounter:c.InputCounter,InputTsSearchFrom:a,InputTsSearchTo:r,Uname:c.Uname,Pernr:c.Pernr,Counter:c.Counter,Workdate:D,Rproj:c.Rproj,Posid:c.Posid,Post1:c.Post1,Tasktype:c.Tasktype,Tasklevel:c.Tasklevel,Tasklevelx:c.Tasklevelx,Catshours:v,Beguz:y,Enduz:f,Ltxa1:c.Ltxa1,LongText:c.LongText,Status:c.Status,Statusx:c.Statusx,TsSearchFrom:a,TsSearchTo:r};l.callFunction("/ModificaUserEvent",{method:"GET",urlParameters:T,success:function(e){sap.ui.core.BusyIndicator.hide();if(e.message){var t=e.ModificaUserEvent.Message;i.error(t,{title:oI18n.getText("msgError"),styleClass:!jQuery.support.touch?"sapUiSizeCompact":""})}else{var a=d.getView().getModel("i18n").getResourceBundle();o.show(a.getText("msgOkEdited"));d._ricaricaUserEvent()}},error:function(e){sap.ui.core.BusyIndicator.hide();d.showUpdateError(e)}})}})});
},
	"zfioritimesheet3/zfioritimesheet3n/i18n/i18n.properties":'#App info:\ntitle=Timesheet\nappTitle=Timesheet\nappDescription=Fiori Timesheet.\n\n#Custom texts:\nmsgErrorNotEditable=This activity is not editable.\nmsgOkInsertTitle=Success\nmsgOkInsert=Activity successfully created.\nmsgOkEditedTitle=Success\nmsgOkEdited=Activity successfully edited.\nmsgOkDeleted=Activity succesfully deleted.\nmsgError=Error\nmsgGeneralErrorText=An unknown error occured.\nmsgErrorUpdateText=An error occured while trying to update the activity.\nmsgErrorCreateText=An error occured while trying to create the activity.\nmsgErrorDeleteText=An error occured while trying to delete the activity.\nmsgDelete=Confirm activity deletion?\nmsgDeleteTitle=Confirm deletion\nlabelAuthLevel=Authorization level\nauthManager=Team manager\nauthMember=Team member\nviewManagerTitle=Team Management\ntextBtnViewManager=Team Management\ntooltipBtnViewManager=Open Team Management screen\ntextBtnWbs=WBS\ntooltipBtnWbs=Open WBS Overview screen\ntextNoAvailableWbs=No WBS available.\ntableSelectDialogWbsTitle=WBS Overview - Maintain Favorite WBS and Add Activities\ntableSelectDialogWbsColumnWbsHeader=WBS\ntableSelectDialogWbsColumnDescriptionHeader=Description\ntableSelectDialogWbsColumnCompanyHeader=Company\ntableSelectDialogWbsColumnProjectManagerHeader=Project Manager\ntableSelectDialogWbsColumnCapitalizableHeader=Capitalizable\ntableSelectDialogWbsColumnPreferredHeader=Favorite\ntoolitipBtnAddAppointment=Add activity\ntoolitipBtnAddRemovePrefWbs=Add/remove the selected WBS to favorites\ntextBtnEditActivity=Edit\ntooltipBtnEditActivity=Edit activity\ntextBtnDeleteActivity=Delete\ntooltipBtnDeleteActivity=Delete activity\ntextBtnShowAllWbs=Show all WBS\ntooltipBtnShowAllWbs=Show all available WBS\ntooltipAppointment=Show details\ntextBtnCloseWbs=Close\ntextBtnDays=Days\ntooltipBtnDays=Open Days Overview screen\ntextTitleDialogDays=Days Overview\ntextSwitchShowOnlyDaysInErrorLabelDialogDays=Show only days in error:\ntooltipBtnApplySelectedFiltersDays=Apply selected filters\ntextNoAvailableDays=No data available.\ntextDaysDescriptionWorkedHours=Worked hours: \ntextBtnCloseDialogDays=Close\ntextbtnCreateDialogConfirm=Confirm\ntextbtnCreateDialogCancel=Cancel\ntextbtnModificaDialogConfirm=Confirm\ntextbtnModificaDialogCancel=Cancel\ntooltipBtnCloseWbs=Close WBS Overview screen\ntitleDetailsPopover=Activity details\ntextEmployeeLabel=Employee:\ntextDateRangeLabelDialogDays=Date range:\ntextActivityLabel=Activity:\ntextActivityLabel2=Activity\ntextWbsLabel=WBS:\ntextWbsLabel2=WBS\ntextFromLabel=From: \ntextFromLabel2=Started\ntextToLabel=To:\ntextToLabel2=Ended\ntextDayLabel=Day: \ntextDayLabel2=Day\ntextWorkedHoursLabel=Worked hours\ntextWorkedHoursLabel2=Worked hours:\nshortTextLabel=Short description\nshortTextLabel2=Short description:\ntextAdditionalInformation=Additional information:\ntextAdditionalInformationLabel=Additional information\ntitleCreateAppointmentDialog=Create activity\ntitleEditAppointmentDialog=Edit activity\nmessageBoxLogInErrorTitle=Log In Error\nmessageBoxLogInError=An error occured while trying to log in.\nmessageBoxErrorDetailsText=Error details:\nmessageBoxTeamExtractionErrorTitle=Team Extraction Error\nmessageBoxTeamExtractionError=An error occured while trying to extract team data.\nmessageBoxWbsPrefErrorTitle=Favorite WBS Elaboration Error\nmessageBoxWbsPrefErrorCreate=An error occured while setting the selected WBS as favorite.\nmessageBoxWbsPrefErrorDelete=An error occured while setting the selected WBS as not favorite.\nmessageToastWbsPrefSuccess=Changes have been successfully saved.\nmessageBoxWbsPrefErrorMoreItems=More than one item has been selected. Only one item at a time can be elaborated.\nmessageBoxWbsPrefErrorNotPreferred=Only favorite WBS can be selected for activities creation.\nvalidationErrorTextEmtpyActivity=Select an activity\nvalidationErrorTextEmtpyWbs=Select a WBS\nvalidationErrorTextEmptyWorkedHours=Enter worked hours\nvalidationErrorTextInvalidWorkedHours=Enter a valid value for worked hours\nvalidationErrorTextLongerWorkedHours=The maximum allowed value for worked hours is 23.99\nvalidationErrorTextEmtpyWorkdate=Enter a workdate\nvalidationErrorTextInvalidWorkdate=Enter a valid workdate\nvalidationErrorTextLongerShortDescription=Short description field can be up to 40 characters long\nvalidationErrorTextInvalidStartEndDateTimePicker=Enter a valid date\nvalidationErrorTextStartEndDateTimePicker=Start date must be before end date\nvalidationErrorTextEmtpyUser=Select a user\nvalidationErrorTextLongerAdditionalInformation=Additional information field can be up to 132 characters long\nvalidationErrorTextEmtpyDateRangeDialogDays=Enter a date range\nvalidationErrorTextInvalidDateRangeDialogDays=Enter a valid date range\ntextDisplaydEntriesDialogDays=Displayed entries: \ntextDisplaydEntriesEmptyDialogDays=Displayed entries: 0\ntextValid=Valid\ntextInvalid=Invalid\ntextCapitalYes=YES\ntextCapitalNo=NO\n',
	"zfioritimesheet3/zfioritimesheet3n/localService/mockserver.js":function(){sap.ui.define(["sap/ui/core/util/MockServer","sap/ui/model/json/JSONModel","sap/base/util/UriParameters","sap/base/Log"],function(e,t,r,a){"use strict";var i,o="zfioritimesheet3.zfioritimesheet3n/",n=o+"localService/mockdata";var s={init:function(s){var u=s||{};return new Promise(function(s,c){var p=sap.ui.require.toUrl(o+"manifest.json"),f=new t(p);f.attachRequestCompleted(function(){var t=new r(window.location.href),c=sap.ui.require.toUrl(n),p=f.getProperty("/sap.app/dataSources/mainService"),l=sap.ui.require.toUrl(o+p.settings.localUri),d=p.uri&&new URI(p.uri).absoluteTo(sap.ui.require.toUrl(o)).toString();if(!i){i=new e({rootUri:d})}else{i.stop()}e.config({autoRespond:true,autoRespondAfter:u.delay||t.get("serverDelay")||500});i.simulate(l,{sMockdataBaseUrl:c,bGenerateMissingMockData:true});var m=i.getRequests();var v=function(e,t,r){r.response=function(r){r.respond(e,{"Content-Type":"text/plain;charset=utf-8"},t)}};if(u.metadataError||t.get("metadataError")){m.forEach(function(e){if(e.path.toString().indexOf("$metadata")>-1){v(500,"metadata Error",e)}})}var g=u.errorType||t.get("errorType"),h=g==="badRequest"?400:500;if(g){m.forEach(function(e){v(h,g,e)})}i.setRequests(m);i.start();a.info("Running the app with mock data");s()});f.attachRequestFailed(function(){var e="Failed to load application manifest";a.error(e);c(new Error(e))})})},getMockServer:function(){return i}};return s});
},
	"zfioritimesheet3/zfioritimesheet3n/manifest.json":'{"_version":"1.32.0","sap.app":{"id":"zfioritimesheet3.zfioritimesheet3n","type":"application","i18n":"i18n/i18n.properties","applicationVersion":{"version":"1.0.0"},"title":"{{appTitle}}","description":"{{appDescription}}","resources":"resources.json","ach":"ach","dataSources":{"mainService_alias":{"uri":"/sap/opu/odata/sap/ZFIORI_TIMESHEET_SRV/","type":"OData","settings":{"odataVersion":"2.0","localUri":"localService/metadata.xml"}}}},"sap.ui":{"technology":"UI5","icons":{"icon":"sap-icon://task","favIcon":"","phone":"","phone@2":"","tablet":"","tablet@2":""},"deviceTypes":{"desktop":true,"tablet":true,"phone":true}},"sap.ui5":{"flexEnabled":false,"rootView":{"viewName":"zfioritimesheet3.zfioritimesheet3n.view.ViewMain","type":"XML","async":true,"id":"app"},"dependencies":{"minUI5Version":"1.66.0","libs":{"sap.ui.core":{},"sap.m":{},"sap.ui.layout":{}}},"contentDensities":{"compact":true,"cozy":true},"models":{"i18n":{"type":"sap.ui.model.resource.ResourceModel","settings":{"bundleName":"zfioritimesheet3.zfioritimesheet3n.i18n.i18n"}},"mainService":{"type":"sap.ui.model.odata.v2.ODataModel","dataSource":"mainService_alias","preload":true}},"resources":{"css":[{"uri":"css/style.css"}]},"routing":{"config":{"routerClass":"sap.m.routing.Router","viewType":"XML","async":true,"viewPath":"zfioritimesheet3.zfioritimesheet3n.view","controlId":"app","controlAggregation":"pages","clearControlAggregation":false},"routes":[{"name":"RouteViewMain","pattern":"RouteViewMain","target":["TargetViewMain"]},{"name":"RouteViewManager","pattern":"RouteViewManager","target":["TargetViewManager"]}],"targets":{"TargetViewMain":{"viewType":"XML","viewId":"ViewMain","viewName":"ViewMain","viewLevel":1,"routerClass":"sap.m.routing.Router","transition":"flip","controlAggregation":"pages","clearControlAggregation":false},"TargetViewManager":{"viewType":"XML","viewId":"ViewManager","viewName":"ViewManager","viewLevel":2,"routerClass":"sap.m.routing.Router","transition":"flip","controlAggregation":"pages","clearControlAggregation":false}}}}}',
	"zfioritimesheet3/zfioritimesheet3n/model/models.js":function(){sap.ui.define(["sap/ui/model/json/JSONModel","sap/ui/Device"],function(e,n){"use strict";return{createDeviceModel:function(){var i=new e(n);i.setDefaultBindingMode("OneWay");return i}}});
},
	"zfioritimesheet3/zfioritimesheet3n/view/FragmentCreazione.fragment.xml":'<core:FragmentDefinition\n    xmlns:l="sap.ui.layout"\n    xmlns:core="sap.ui.core"\n    xmlns="sap.m"><Dialog\n        id="createDialog"\n        contentHeight="auto"\n        contentWidth="auto"\n        draggable="true"\n        resizable="true"><beginButton><Button\n                id="btnCreateDialogConfirm"\n                text="{i18n>textbtnCreateDialogConfirm}"\n                type="Emphasized"\n                enabled="false"\n                press="handleDialogSaveButtonCreate"/></beginButton><endButton><Button\n                id="btnCreateDialogCancel"\n                text="{i18n>textbtnCreateDialogCancel}"\n                press="handleDialogCancelButtonCreate"/></endButton><l:VerticalLayout\n\t\t\tclass="sapUiContentPadding"\n\t\t\twidth="100%"><Label\n                text="{i18n>textEmployeeLabel}" \n                labelFor="dipName"\n                required="true"\n                width="100%"/><Input\n                id="dipName"\n                editable="false"\n                required="true"\n                width="100%"\n                liveChange="onChangeInputValuesCreate"/><Label\n                text="{i18n>textActivityLabel}"\n                labelFor="actType"\n                required="true"\n                width="100%"/><Select\n                id="actType"\n                forceSelection="false"\n                width="100%"\n                change="handleChangeSelectActivityCreate"\n                items="{model: \'mainService\', path: \'/ActivitySet\', templateShareable: true,\n                    sorter: [   { path: \'Tasktype\' },\n                                { path: \'Tasklevel\' },\n                                { path: \'Tasklevelx\' }],\n                    filters: [  { path: \'InputUname\', operator: \'EQ\', value1: \'STEFANLU\' }]}"><core:Item key="{mainService>Tasklevel}" text="{mainService>Tasklevelx}"/></Select><Label\n                text="{i18n>textWbsLabel}"\n                labelFor="wbsType"\n                required="true"\n                width="100%"/><Select\n                id="wbsType"\n                forceSelection="false"\n                width="100%"\n                change="onChangeInputValuesCreate"\n                items="{model: \'mainService\', path: \'/WbsPrefSet\', templateShareable: true,\n                    sorter: [   { path: \'Rproj\' },\n                                { path: \'Pernr\' },\n                                { path: \'Uname\' }],\n                    filters: [  { path: \'InputUname\', operator: \'EQ\', value1: \'STEFANLU\' }]}"><core:Item key="{mainService>Rproj}" text="{mainService>Post1}"/></Select><Label\n                id="lCreateStartDate"\n                text="{i18n>textFromLabel}"\n                labelFor="createStartDate" \n                required="true"\n                width="100%"/><DateTimePicker\n                id="createStartDate"\n                displayFormat="short"\n                required="true"\n                width="100%"\n                change="onChangeStartEndDateInputValuesCreate"/><Label\n                id="lCreateEndDate"\n                text="{i18n>textToLabel}"\n                labelFor="createEndDate"\n                required="true"\n                width="100%"/><DateTimePicker\n                id="createEndDate"\n                displayFormat="short"\n                required="true"\n                width="100%"\n                change="onChangeStartEndDateInputValuesCreate"/><Label\n                id="lGiornoDate"\n                text="{i18n>textDayLabel}"\n                labelFor="createGiornoDate"\n                visible="false"\n                required="true"\n                width="100%"/><DatePicker\n                id="createGiornoDate"\n                required="true"\n                displayFormat="short"\n                valueFormat="dd/MM/yyyy"\n                visible="false"\n                width="100%"\n                change="onChangeInputValuesCreate"/><Label\n                id="lOreLavorate"\n                text="{i18n>textWorkedHoursLabel2}"\n                labelFor="oreLavorate"\n                visible="false"\n                required="true"\n                width="100%"/><Input\n                id="oreLavorate"\n                editable="true"\n                required="true"\n                type="Number"\n                visible="false"\n                width="100%"\n                liveChange="onChangeInputValuesCreate"/><Label\n                id="lActivityTitle"\n                text="{i18n>shortTextLabel2}"\n                labelFor="appTitle"\n                width="100%"/><Input\n                id="appTitle"\n                editable="true"\n                width="100%"\n                liveChange="onChangeInputValuesCreate"/><Label\n                id="lActivityText"\n                text="{i18n>textAdditionalInformation}"\n                labelFor="moreInfo"\n                width="100%"/><TextArea\n                id="moreInfo"\n                height="auto"\n                rows="3"\n                editable="true"\n                width="100%"\n                liveChange="onChangeInputValuesCreate"/></l:VerticalLayout></Dialog></core:FragmentDefinition>\n',
	"zfioritimesheet3/zfioritimesheet3n/view/FragmentCreazioneManager.fragment.xml":'<core:FragmentDefinition\n    xmlns:l="sap.ui.layout"\n    xmlns:core="sap.ui.core"\n    xmlns="sap.m"><Dialog\n        id="createDialogManager"\n        contentHeight="auto"\n        contentWidth="auto"\n        draggable="true"\n        resizable="true"><beginButton><Button\n                id="btnCreateDialogConfirm"\n                text="{i18n>textbtnCreateDialogConfirm}"\n                type="Emphasized"\n                enabled="false"\n                press="handleDialogSaveButtonCreate"/></beginButton><endButton><Button\n                id="btnCreateDialogCancel"\n                text="{i18n>textbtnCreateDialogCancel}"\n                press="handleDialogCancelButtonCreate"/></endButton><l:VerticalLayout\n\t\t\tclass="sapUiContentPadding"\n\t\t\twidth="100%"><Label\n                text="{i18n>textEmployeeLabel}"\n                labelFor="selectDipName"\n                required="true"\n                width="100%"/><Select\n                id="selectDipName"\n                forceSelection="false"\n                width="100%"\n                change="onSelectDipNameChange"\n                items="{model: \'mainService\', path: \'/UserTeamSet\', templateShareable: true,\n                    sorter: [   { path: \'Uname\' },\n                                { path: \'Pernr\' }],\n                    filters: [  { path: \'InputUname\', operator: \'EQ\', value1: \'STEFANLU\' }]}"><core:Item key="{mainService>Uname}" text="{mainService>Unamex}"/></Select><Label\n                text="{i18n>textActivityLabel}"\n                labelFor="actType"\n                required="true"\n                width="100%"/><Select\n                id="actType"\n                forceSelection="false"\n                width="100%"\n                change="handleChangeSelectActivityCreate"\n                items="{model: \'mainService\', path: \'/ActivitySet\', templateShareable: true,\n                    sorter: [   { path: \'Tasktype\' },\n                                { path: \'Tasklevel\' },\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t  \n                                { path: \'Tasklevelx\' }],\n                    filters: [  { path: \'InputUname\', operator: \'EQ\', value1: \'STEFANLU\' }]}"><core:Item key="{mainService>Tasklevel}" text="{mainService>Tasklevelx}"/></Select><Label\n                text="{i18n>textWbsLabel}"\n                labelFor="wbsType"\n                required="true"\n                width="100%"/><Select\n                id="wbsType"\n                forceSelection="false"\n                width="100%"\n                change="onChangeInputValuesCreate"\n                items="{model: \'mainService\', path: \'/WbsPrefSet\', templateShareable: true,\n                    sorter: [   { path: \'Rproj\' },\n                                { path: \'Pernr\' },\n                                { path: \'Uname\' }],\n                    filters: [  { path: \'InputUname\', operator: \'EQ\', value1: \'STEFANLU\' }]}"><core:Item key="{mainService>Rproj}" text="{mainService>Post1}"/></Select><Label\n                id="lCreateStartDate"\n                text="{i18n>textFromLabel}"\n                labelFor="createStartDate" \n                required="true"\n                width="100%"/><DateTimePicker\n                id="createStartDate"\n                displayFormat="short"\n                required="true"\n                width="100%"\n                change="onChangeStartEndDateInputValuesCreate"/><Label\n                id="lCreateEndDate"\n                text="{i18n>textToLabel}"\n                labelFor="createEndDate"\n                required="true"\n                width="100%"/><DateTimePicker\n                id="createEndDate"\n                displayFormat="short"\n                required="true"\n                width="100%"\n                change="onChangeStartEndDateInputValuesCreate"/><Label\n                id="lGiornoDate"\n                text="{i18n>textDayLabel}"\n                labelFor="createGiornoDate"\n                visible="false"\n                required="true"\n                width="100%"/><DatePicker\n                id="createGiornoDate"\n                required="true"\n                displayFormat="short"\n                valueFormat="dd/MM/yyyy"\n                visible="false"\n                width="100%"\n                change="onChangeInputValuesCreate"/><Label\n                id="lOreLavorate"\n                text="{i18n>textWorkedHoursLabel2}"\n                labelFor="oreLavorate"\n                visible="false"\n                required="true"\n                width="100%"/><Input\n                id="oreLavorate"\n                editable="true"\n                required="true"\n                type="Number"\n                visible="false"\n                width="100%"\n                liveChange="onChangeInputValuesCreate"/><Label\n                id="lActivityTitle"\n                text="{i18n>shortTextLabel2}"\n                labelFor="appTitle"\n                width="100%"/><Input\n                id="appTitle"\n                editable="true"\n                width="100%"\n                liveChange="onChangeInputValuesCreate"/><Label\n                id="lActivityText"\n                text="{i18n>textAdditionalInformation}"\n                labelFor="moreInfo"\n                width="100%"/><TextArea\n                id="moreInfo"\n                height="auto"\n                width="100%"\n                rows="3"\n                editable="true"\n                liveChange="onChangeInputValuesCreate"/></l:VerticalLayout></Dialog></core:FragmentDefinition>\n',
	"zfioritimesheet3/zfioritimesheet3n/view/FragmentDays.fragment.xml":'<core:FragmentDefinition\n\txmlns="sap.m"\n\txmlns:core="sap.ui.core"><Dialog\n        id="dialogDays"\n        title="{i18n>textTitleDialogDays}"\n        contentHeight="100%"\n        contentWidth="40%"\n        draggable="true"\n        resizable="true"><endButton><Button\n                id="btnCloseDialogDays"\n                text="{i18n>textBtnCloseDialogDays}"\n                press="onPressBtnCloseDialogDays"/></endButton><List\n            id="listDialogDays"\n            items="{model: \'mainService\', path: \'/DaySet\', templateShareable: true}"\n            noDataText="{i18n>textNoAvailableDays}"\n            sticky="HeaderToolbar,InfoToolbar"\n            updateFinished="onUpdateFinishedListDialogDays"><headerToolbar><OverflowToolbar width="auto"><ToolbarSpacer/><Label\n                        text="{i18n>textDateRangeLabelDialogDays}"\n                        labelFor="dateRangeWorkdateDialogDays"\n                        width="auto"/><DateRangeSelection\n                        id="dateRangeWorkdateDialogDays"\n                        showFooter="true"\n                        width="29%"\n                        change="onChangeDateRangeWorkdateDialogDays"/><Label\n                        text="{i18n>textSwitchShowOnlyDaysInErrorLabelDialogDays}"\n                        labelFor="switchShowOnlyDaysInErrorDialogDays"\n                        width="auto"/><Switch\n                        id="switchShowOnlyDaysInErrorDialogDays"\n                        customTextOff="{i18n>textCapitalNo}"\n                        customTextOn="{i18n>textCapitalYes}"\n                        change="onChangeSwitchShowOnlyDaysInErrorDialogDays"/><Button\n                        id="btnApplySelectedFiltersDialogDays"\n                        type="Ghost"\n                        icon="sap-icon://filter"\n                        tooltip="{i18n>tooltipBtnApplySelectedFiltersDays}"\n                        press="onPressBtnApplySelectedFiltersDialogDays"/></OverflowToolbar></headerToolbar><infoToolbar><OverflowToolbar width="auto"><Label\n                        id="labelInfoToolbarDialogDays"\n                        text="{i18n>textDisplaydEntriesEmptyDialogDays}"\n                        width="auto"/></OverflowToolbar></infoToolbar><items><StandardListItem\n                    id="standardListItemDialogDays"\n                    title="{model: \'mainService\', path: \'Workdate\', formatter: \'.formatDateToMediumString\'}"\n                    description="{i18n>textDaysDescriptionWorkedHours}{mainService>Catshours}"\n                    info="{mainService>Sapui5Info}"\n                    highlight="{mainService>Sapui5Highlight}"\n                    infoState="{mainService>Sapui5InfoState}"\n                    iconDensityAware="false"\n                    iconInset="false"\n                    wrapping="true"/></items></List></Dialog></core:FragmentDefinition>\n',
	"zfioritimesheet3/zfioritimesheet3n/view/FragmentDaysManager.fragment.xml":'<core:FragmentDefinition\n\txmlns="sap.m"\n\txmlns:core="sap.ui.core"><Dialog\n        id="dialogDaysManager"\n        title="{i18n>textTitleDialogDays}"\n        contentHeight="100%"\n        contentWidth="55%"\n        draggable="true"\n        resizable="true"><endButton><Button\n                id="btnCloseDialogDaysManager"\n                text="{i18n>textBtnCloseDialogDays}"\n                press="onPressBtnCloseDialogDaysManager"/></endButton><List\n            id="listDialogDaysManager"\n            items="{model: \'mainService\', path: \'/DaySet\', templateShareable: true}"\n            noDataText="{i18n>textNoAvailableDays}"\n            sticky="HeaderToolbar,InfoToolbar"\n            updateFinished="onUpdateFinishedListDialogDaysManager"><headerToolbar><OverflowToolbar width="auto"><ToolbarSpacer/><Label\n                        text="{i18n>textEmployeeLabel}"\n                        labelFor="selectUserDialogDaysManager"\n                        width="auto"/><Select\n                        id="selectUserDialogDaysManager"\n                        forceSelection="false"\n                        width="22%"\n                        change="onChangeSelectUserDialogDaysManager"\n                        items="{model: \'mainService\', path: \'/UserTeamSet\', templateShareable: true,\n                            sorter: [   { path: \'Uname\' },\n                                        { path: \'Pernr\' }],\n                            filters: [  { path: \'InputUname\', operator: \'EQ\', value1: \'STEFANLU\' }]}"><core:Item key="{mainService>Uname}" text="{mainService>Unamex}"/></Select><Label\n                        text="{i18n>textDateRangeLabelDialogDays}"\n                        labelFor="dateRangeWorkdateDialogDaysManager"\n                        width="auto"/><DateRangeSelection\n                        id="dateRangeWorkdateDialogDaysManager"\n                        showFooter="true"\n                        width="29%"\n                        change="onChangeDateRangeWorkdateDialogDaysManager"/><Label\n                        text="{i18n>textSwitchShowOnlyDaysInErrorLabelDialogDays}"\n                        labelFor="switchShowOnlyDaysInErrorDialogDaysManager"\n                        width="auto"/><Switch\n                        id="switchShowOnlyDaysInErrorDialogDaysManager"\n                        customTextOff="{i18n>textCapitalNo}"\n                        customTextOn="{i18n>textCapitalYes}"\n                        change="onChangeSwitchShowOnlyDaysInErrorDialogDaysManager"/><Button\n                        id="btnApplySelectedFiltersDialogDaysManager"\n                        type="Ghost"\n                        icon="sap-icon://filter"\n                        tooltip="{i18n>tooltipBtnApplySelectedFiltersDays}"\n                        press="onPressBtnApplySelectedFiltersDialogDaysManager"/></OverflowToolbar></headerToolbar><infoToolbar><OverflowToolbar width="auto"><Label\n                        id="labelInfoToolbarDialogDaysManager"\n                        text="{i18n>textDisplaydEntriesEmptyDialogDays}"\n                        width="auto"/></OverflowToolbar></infoToolbar><items><StandardListItem\n                    id="standardListItemDialogDaysManager"\n                    title="{model: \'mainService\', path: \'Workdate\', formatter: \'.formatDateToMediumString\'}"\n                    description="{i18n>textDaysDescriptionWorkedHours}{mainService>Catshours}"\n                    info="{mainService>Sapui5Info}"\n                    highlight="{mainService>Sapui5Highlight}"\n                    infoState="{mainService>Sapui5InfoState}"\n                    iconDensityAware="false"\n                    iconInset="false"\n                    wrapping="true"/></items></List></Dialog></core:FragmentDefinition>\n',
	"zfioritimesheet3/zfioritimesheet3n/view/FragmentDetails.fragment.xml":'<core:FragmentDefinition\n    xmlns="sap.m"\n    xmlns:core="sap.ui.core"\n    xmlns:f="sap.ui.layout.form"\n    xmlns:l="sap.ui.layout"><ResponsivePopover\n        id="detailsPopover"\n        title="{i18n>titleDetailsPopover}"\n        class="sapUiContentPadding"\n        placement="Auto"      \n        contentHeight="auto"\n        contentWidth="auto"><beginButton><Button\n                id="btnEditActivity"\n                text="{i18n>textBtnEditActivity}"\n                tooltip="{i18n>tooltipBtnEditActivity}"\n                type="Ghost"\n                press="handleEditButton"/></beginButton><endButton><Button\n                id="btnDeleteActivity"\n                text="{i18n>textBtnDeleteActivity}"\n                tooltip="{i18n>tooltipBtnDeleteActivity}"\n                type="Emphasized"\n                press="handleDeleteAppointment"/></endButton><f:SimpleForm\n            editable="false"\n            layout="ResponsiveGridLayout"\n            singleContainerFullSize="false"><l:VerticalLayout width="100%"><Label\n                    text="{i18n>textActivityLabel2}"\n                    labelFor="moreInfoText"\n                    width="auto"/><Text\n                    id="moreInfoText"\n                    class="sapUiSmallMarginBottom"\n                    text=""\n                    width="auto"/><Label\n                    text="{i18n>shortTextLabel}"\n                    labelFor="shortTextText"\n                    width="auto"/><Text\n                    id="shortTextText"\n                    class="sapUiSmallMarginBottom"\n                    text=""\n                    width="auto"/><Label\n                    text="{i18n>textAdditionalInformationLabel}"\n                    labelFor="longTextText"\n                    width="auto"/><Text\n                    id="longTextText"\n                    class="sapUiSmallMarginBottom"\n                    text=""\n                    width="auto"/><Label\n                    text="{i18n>textWbsLabel2}"\n                    labelFor="wbsText"\n                    width="auto"/><Text\n                    id="wbsText"\n                    class="sapUiSmallMarginBottom"\n                    text=""\n                    width="auto"/><Label\n                    id="labelStartDate"\n                    labelFor="startDateText"\n                    width="auto"/><Text\n                    id="startDateText"\n                    class="sapUiSmallMarginBottom"\n                    text=""\n                    width="auto"/><Label\n                    id="lEndDateText"\n                    text="{i18n>textToLabel2}"\n                    labelFor="endDateText"\n                    width="auto"/><Text\n                    id="endDateText"\n                    class="sapUiSmallMarginBottom"\n                    text=""\n                    width="auto"/><Label\n                    id="lOreLavoro"\n                    text="{i18n>textWorkedHoursLabel}"\n                    labelFor="oreLavorate" \n                    visible="false"\n                    width="auto"/><Text\n                    id="oreLavoro"\n                    text=""\n                    visible="false"\n                    width="auto"/></l:VerticalLayout></f:SimpleForm></ResponsivePopover></core:FragmentDefinition>\n',
	"zfioritimesheet3/zfioritimesheet3n/view/FragmentModifica.fragment.xml":'<core:FragmentDefinition\n    xmlns:l="sap.ui.layout"\n    xmlns:core="sap.ui.core"\n    xmlns="sap.m"><Dialog\n        id="modificaDialog"\n        contentHeight="auto"\n        contentWidth="auto"\n        draggable="true"\n        resizable="true"><beginButton><Button\n                id="btnModificaDialogConfirm"\n                text="{i18n>textbtnCreateDialogConfirm}"\n                type="Emphasized"\n                press="handleDialogModificaSaveButton"/></beginButton><endButton><Button\n                id="btnModificaDialogCancel"\n                text="{i18n>textbtnModificaDialogCancel}"\n                press="handleDialogModificaCancelButton"/></endButton><l:VerticalLayout\n\t\t\tclass="sapUiContentPadding"\n\t\t\twidth="100%"><Label\n                text="{i18n>textEmployeeLabel}"\n                labelFor="modName"\n                required="true"\n                width="100%"/><Input\n                id="modName"\n                editable="false"\n                required="true"\n                width="100%"\n                liveChange="onChangeInputValuesModifica"/><Label\n                text="{i18n>textActivityLabel}"\n                labelFor="modActType"\n                required="true"\n                width="100%"/><Select\n                id="modActType"\n                forceSelection="false"\n                width="100%"\n                change="handleChangeSelectActivityModifica"\n                items="{model: \'mainService\', path: \'/ActivitySet\', templateShareable: true,\n                    sorter: [   { path: \'Tasktype\' },\n                                { path: \'Tasklevel\' },\n                                { path: \'Tasklevelx\' }],\n                    filters: [  { path: \'InputUname\', operator: \'EQ\', value1: \'STEFANLU\' }]}"><core:Item key="{mainService>Tasklevel}" text="{mainService>Tasklevelx}"/></Select><Label\n                text="{i18n>textWbsLabel}"\n                labelFor="modWbsType"\n                required="true"\n                width="100%"/><Select\n                id="modWbsType"\n                forceSelection="false"\n                width="100%"\n                change="onChangeInputValuesModifica"\n                items="{model: \'mainService\', path: \'/WbsPrefSet\', templateShareable: true,\n                    sorter: [   { path: \'Rproj\' },\n                                { path: \'Pernr\' },\n                                { path: \'Uname\' }],\n                    filters: [  { path: \'InputUname\', operator: \'EQ\', value1: \'STEFANLU\' }]}"><core:Item key="{mainService>Rproj}" text="{mainService>Post1}"/></Select><Label\n                id="lModStartDate"\n                text="{i18n>textFromLabel}"\n                labelFor="modStartDate"\n                required="true"\n                width="100%"/><DateTimePicker\n                id="modStartDate"\n                displayFormat="short"\n                required="true"\n                width="100%"\n                change="onChangeStartEndDateInputValuesModifica"/><Label\n                id="lModEndDate"\n                text="{i18n>textToLabel}"\n                labelFor="modEndDate"\n                required="true"\n                width="100%"/><DateTimePicker\n                id="modEndDate"\n                displayFormat="short"\n                required="true"\n                width="100%"\n                change="onChangeStartEndDateInputValuesModifica"/><Label\n                id="lModGiornoDate"\n                text="{i18n>textDayLabel}"\n                labelFor="modGiornoDate"\n                visible="false"\n                required="true"\n                width="100%"/><DatePicker\n                id="modGiornoDate"\n                required="true"\n                displayFormat="short"\n                valueFormat="dd/MM/yyyy"\n                visible="false"\n                editable="false"\n                width="100%"\n                change="onChangeInputValuesModifica"/><Label\n                id="lModOreLavorate"\n                text="{i18n>textWorkedHoursLabel2}"\n                labelFor="modOreLavorate"\n                visible="false"\n                required="true"\n                width="100%"/><Input\n                id="modOreLavorate"\n                editable="true"\n                required="true"\n                type="Number"\n                visible="false"\n                width="100%"\n                liveChange="onChangeInputValuesModifica"/><Label\n                id="lActivityTitleModifica"\n                text="{i18n>shortTextLabel2}"\n                labelFor="modAppTitle"\n                width="100%"/><Input\n                id="modAppTitle"\n                editable="true"\n                width="100%"\n                liveChange="onChangeInputValuesModifica"/><Label\n                id="lActivityTextModifica"\n                text="{i18n>textAdditionalInformation}"\n                labelFor="modMoreInfo"\n                width="100%"/><TextArea\n                id="modMoreInfo"\n                height="auto"\n                rows="3"\n                editable="true"\n                width="100%"\n                liveChange="onChangeInputValuesModifica"/></l:VerticalLayout></Dialog></core:FragmentDefinition>\n',
	"zfioritimesheet3/zfioritimesheet3n/view/FragmentModificaManager.fragment.xml":'<core:FragmentDefinition\n    xmlns:l="sap.ui.layout"\n    xmlns:core="sap.ui.core"\n    xmlns="sap.m"><Dialog\n        id="modificaDialogManager"\n        contentHeight="auto"\n        contentWidth="auto"\n        draggable="true"\n        resizable="true"><beginButton><Button\n                id="btnModificaDialogConfirm"\n                text="{i18n>textbtnCreateDialogConfirm}"\n                type="Emphasized"\n                press="handleDialogModificaSaveButton"/></beginButton><endButton><Button\n                id="btnModificaDialogCancel"\n                text="{i18n>textbtnModificaDialogCancel}"\n                press="handleDialogModificaCancelButton"/></endButton><l:VerticalLayout\n\t\t\tclass="sapUiContentPadding"\n\t\t\twidth="100%"><Label\n                text="{i18n>textEmployeeLabel}"\n                labelFor="selectModName"\n                required="true"\n                width="100%"/><Select\n                id="selectModName"\n                forceSelection="false"\n                editable="false"\n                width="100%"                \n                items="{model: \'mainService\', path: \'/UserTeamSet\', templateShareable: true,\n                    sorter: [   { path: \'Uname\' },\n                                { path: \'Pernr\' }],\n                    filters: [  { path: \'InputUname\', operator: \'EQ\', value1: \'STEFANLU\' }]}"><core:Item key="{mainService>Uname}" text="{mainService>Unamex}"/></Select><Label\n                text="{i18n>textActivityLabel}"\n                labelFor="modActType"\n                required="true"\n                width="100%"/><Select\n                id="modActType"\n                forceSelection="false"\n                width="100%"\n                change="handleChangeSelectActivityModifica"\n                items="{model: \'mainService\', path: \'/ActivitySet\', templateShareable: true,\n                    sorter: [   { path: \'Tasktype\' },\n                                { path: \'Tasklevel\' },\n                                { path: \'Tasklevelx\' }],\n                    filters: [  { path: \'InputUname\', operator: \'EQ\', value1: \'STEFANLU\' }]}"><core:Item key="{mainService>Tasklevel}" text="{mainService>Tasklevelx}"/></Select><Label\n                text="{i18n>textWbsLabel}"\n                labelFor="ModWbsType"\n                required="true"\n                width="100%"/><Select\n                id="modWbsType"\n                forceSelection="false"\n                width="100%"\n                change="onChangeInputValuesModifica"\n                items="{model: \'mainService\', path: \'/WbsPrefSet\', templateShareable: true,\n                    sorter: [   { path: \'Rproj\' },\n                                { path: \'Pernr\' },\n                                { path: \'Uname\' }],\n                    filters: [  { path: \'InputUname\', operator: \'EQ\', value1: \'STEFANLU\' }]}"><core:Item key="{mainService>Rproj}" text="{mainService>Post1}"/></Select><Label\n                id="lModStartDate"\n                text="{i18n>textFromLabel}"\n                labelFor="modStartDate"\n                required="true"\n                width="100%"/><DateTimePicker\n                id="modStartDate"\n                displayFormat="short"\n                required="true"\n                width="100%"\n                change="onChangeStartEndDateInputValuesModifica"/><Label\n                id="lModEndDate"\n                text="{i18n>textToLabel}"\n                labelFor="modEndDate"\n                required="true"\n                width="100%"/><DateTimePicker\n                id="modEndDate"\n                displayFormat="short"\n                required="true"\n                width="100%"\n                change="onChangeStartEndDateInputValuesModifica"/><Label\n                id="lModGiornoDate"\n                text="{i18n>textDayLabel}"\n                labelFor="modGiornoDate"\n                visible="false"\n                required="true"\n                width="100%"/><DatePicker\n                id="modGiornoDate"\n                required="true"\n                displayFormat="short"\n                valueFormat="dd/MM/yyyy"\n                visible="false"\n                editable="false"\n                width="100%"\n                change="onChangeInputValuesModifica"/><Label\n                id="lModOreLavorate"\n                text="{i18n>textWorkedHoursLabel2}"\n                labelFor="modOreLavorate"\n                visible="false"\n                required="true"\n                width="100%"/><Input\n                id="modOreLavorate"\n                editable="true"\n                required="true"\n                type="Number"\n                visible="false"\n                width="100%"\n                liveChange="onChangeInputValuesModifica"/><Label\n                id="lActivityTitleModifica"\n                text="{i18n>shortTextLabel2}"\n                labelFor="modAppTitle"\n                width="100%"/><Input\n                id="modAppTitle"\n                editable="true"\n                width="100%"\n                liveChange="onChangeInputValuesModifica"/><Label\n                id="lActivityTextModifica"\n                text="{i18n>textAdditionalInformation}"\n                labelFor="modMoreInfo"\n                width="100%"/><TextArea\n                id="modMoreInfo"\n                height="auto"\n                rows="3"\n                editable="true"\n                width="100%"\n                liveChange="onChangeInputValuesModifica"/></l:VerticalLayout></Dialog></core:FragmentDefinition>\n',
	"zfioritimesheet3/zfioritimesheet3n/view/FragmentWbs.fragment.xml":'<core:FragmentDefinition\n\txmlns="sap.m"\n\txmlns:core="sap.ui.core"\n    xmlns:l="sap.ui.layout"\n    xmlns:smartList="sap.ui.comp.smartlist"><TableSelectDialog\n        id="tableSelectDialogWbs"\n        noDataText="{i18n>textNoAvailableWbs}"\n        title="{i18n>tableSelectDialogWbsTitle}"\n        contentHeight="100%"\n        contentWidth="75%"\n        draggable="true"\n        multiSelect="false"\n        rememberSelections="false"\n        resizable="true"\n        showClearButton="false"\n        search=".handleSearchTableSelectDialogWbs"  \n        confirm=".handleSelectTableSelectDialogWbs"\n        cancel=".handleCloseTableSelectDialogWbs"\n        items="{model: \'mainService\',\n                path: \'/WbsSet\',\n                templateShareable: true,\n                sorter: [{path: \'Pref\', descending: true}, {path: \'Rproj\', descending: true}],\n                filters: [{path: \'InputUname\', operator: \'EQ\', value1: \'STEFANLU\'}]}"><ColumnListItem\n            id="tableSelectDialogWbsTemplate"\n            type="Navigation"\n            vAlign="Middle"><cells><ObjectIdentifier text="{mainService>Posid}"/><Text text="{mainService>Post1}"/><Text text="{mainService>Pbukr}"/><Text text="{mainService>Verna}"/><Text text="{mainService>usr10}"/><ToggleButton\n                    id="btnAddRemovePrefWbs"\n                    icon="sap-icon://favorite"\n                    tooltip="{i18n>toolitipBtnAddRemovePrefWbs}"\n                    pressed="{= ${mainService>Pref} === \'X\'}"\n                    press="onPressBtnAddRemovePrefWbs"/><Text text=""/></cells></ColumnListItem><columns><Column width="auto"><header><Text text="{i18n>tableSelectDialogWbsColumnWbsHeader}"/></header></Column><Column\n                minScreenWidth="Tablet"\n                demandPopin="true"\n                width="auto"><header><Text text="{i18n>tableSelectDialogWbsColumnDescriptionHeader}"/></header></Column><Column width="10%"><header><Text text="{i18n>tableSelectDialogWbsColumnCompanyHeader}"/></header></Column><Column width="13%"><header><Text text="{i18n>tableSelectDialogWbsColumnProjectManagerHeader}"/></header></Column><Column width="11%"><header><Text text="{i18n>tableSelectDialogWbsColumnCapitalizableHeader}"/></header></Column><Column width="10%"><header><Text text="{i18n>tableSelectDialogWbsColumnPreferredHeader}"/></header></Column><Column width="12%"><header><ToggleButton\n                        id="btnShowAllWbs"\n                        text="{i18n>textBtnShowAllWbs}"\n                        tooltip="{i18n>tooltipBtnShowAllWbs}"\n                        press="onPressBtnShowAllWbs"/></header></Column></columns></TableSelectDialog></core:FragmentDefinition>\n',
	"zfioritimesheet3/zfioritimesheet3n/view/ViewMain.view.xml":'<mvc:View\n    controllerName="zfioritimesheet3.zfioritimesheet3n.controller.ViewMain"\n    xmlns="sap.m"\n\txmlns:core="sap.ui.core"\n    xmlns:html="http://www.w3.org/1999/xhtml"\n    xmlns:mvc="sap.ui.core.mvc"\n\txmlns:unified="sap.ui.unified"\n    displayBlock="true"\n    height="100%"><html:style>\n        .sapUiCalendarAppDummy {\n            visibility: hidden !important;\n        }\n    </html:style><Shell id="shell"><App id="app"><pages><Page\n                    id="pageMain"\n                    title="{i18n>title}"\n                    showHeader="true"\n                    enableScrolling="true"\n                    showNavButton="false"><content><VBox\n\t\t\t\t\t\t\tid="vboxPlanCaleMain"\n\t\t\t\t\t\t\tclass="sapUiTinyMargin"><PlanningCalendar\n\t\t\t\t\t\t\t\tid="planCaleMain"\n\t\t\t\t\t\t\t\trows="{model: \'jsonService\', path: \'/people\', templateShareable: true}"\n                                specialDates="{model: \'mainService\', path: \'/DaySet\', templateShareable: true,\n                                    filters: [{path: \'InputExtractOnlyDaysError\', operator: \'EQ\', value1: \'X\'}]}"\n\t\t\t\t\t\t\t\tappointmentsVisualization="Filled"\n\t\t\t\t\t\t\t\tbuiltInViews="Hour,Day,Week"\n\t\t\t\t\t\t\t\tshowDayNamesLine="false"\n\t\t\t\t\t\t\t\tshowEmptyIntervalHeaders="true"\n\t\t\t\t\t\t\t\tshowIntervalHeaders="true"\n\t\t\t\t\t\t\t\tshowRowHeaders="true"\n\t\t\t\t\t\t\t\tshowWeekNumbers="true"\n                                stickyHeader="true"\n                                height="auto"\n\t\t\t\t\t\t\t\twidth="auto"\n                                appointmentSelect="handlePlanCaleMainAppoSele"\n                                intervalSelect="handleAppointmentAddWithContext"><toolbarContent><Label\n\t\t\t\t\t\t\t\t\t\tid="labelAuthLevel"\n\t\t\t\t\t\t\t\t\t\ttext="{i18n>labelAuthLevel}"\n\t\t\t\t\t\t\t\t\t\ttextAlign="Begin"\n\t\t\t\t\t\t\t\t\t\twrapping="true"\n\t\t\t\t\t\t\t\t\t\tlabelFor="inputNoEditAuthLevel"\n\t\t\t\t\t\t\t\t\t\twidth="auto"/><Input\n\t\t\t\t\t\t\t\t\t\tid="inputNoEditAuthLevel"\n\t\t\t\t\t\t\t\t\t\ttype="Text"\n                                        value="{= ${jsonService>/people/0/manager} === true ? ${i18n>authManager} : ${i18n>authMember}}"\n\t\t\t\t\t\t\t\t\t\tplaceholder="---"\n\t\t\t\t\t\t\t\t\t\tenabled="true"\n\t\t\t\t\t\t\t\t\t\teditable="false"\n\t\t\t\t\t\t\t\t\t\twidth="auto"/><Button\n\t\t\t\t\t\t\t\t\t\tid="btnViewManager"\n\t\t\t\t\t\t\t\t\t\ttype="Ghost"\n\t\t\t\t\t\t\t\t\t\ttext="{i18n>textBtnViewManager}"\n\t\t\t\t\t\t\t\t\t\ttooltip="{i18n>tooltipBtnViewManager}"\n                                        enabled="{model: \'jsonService\', path: \'/people/0/manager\', templateShareable: false}"\n\t\t\t\t\t\t\t\t\t\tpress="onPressBtnViewManager"/><Button\n\t\t\t\t\t\t\t\t\t\tid="btnWbs"\n\t\t\t\t\t\t\t\t\t\ttype="Ghost"\n\t\t\t\t\t\t\t\t\t\ttext="{i18n>textBtnWbs}"\n\t\t\t\t\t\t\t\t\t\ttooltip="{i18n>tooltipBtnWbs}"\n\t\t\t\t\t\t\t\t\t\tpress="onPressBtnWbs"><customData><core:CustomData\n                                                key="multi"\n                                                value="true"/></customData></Button><Button\n\t\t\t\t\t\t\t\t\t\tid="btnDays"\n\t\t\t\t\t\t\t\t\t\ttype="Ghost"\n\t\t\t\t\t\t\t\t\t\ttext="{i18n>textBtnDays}"\n\t\t\t\t\t\t\t\t\t\ttooltip="{i18n>tooltipBtnDays}"\n\t\t\t\t\t\t\t\t\t\tpress="onPressBtnDays"/><Button\n\t\t\t\t\t\t\t\t\t\tid="btnAddAppointment"\n\t\t\t\t\t\t\t\t\t\ttype="Ghost"\n\t\t\t\t\t\t\t\t\t\ticon="sap-icon://add"\n\t\t\t\t\t\t\t\t\t\ttooltip="{i18n>toolitipBtnAddAppointment}"\n\t\t\t\t\t\t\t\t\t\tpress="onPressBtnAddAppointment"/></toolbarContent><rows><PlanningCalendarRow\n                                        key="{jsonService>key}"\n                                        title="{jsonService>title}"\n                                        text="{jsonService>text}"\n                                        icon="{jsonService>icon}"\n                                        appointments="{model: \'jsonService\', path: \'appointments\', templateShareable: false}"\n                                        enableAppointmentsCreate="true"\n                                        enableAppointmentsDragAndDrop="false"\n                                        enableAppointmentsResize="true"\n                                        appointmentCreate="onPlanCaleMainCreate"\n                                        appointmentDragEnter="onPlanCaleMainDragEnter"\n                                        appointmentResize="onPlanCaleMainResize"><appointments><unified:CalendarAppointment\n\t\t\t\t\t\t\t\t\t\t\t\tkey="{jsonService>key}"\n\t\t\t\t\t\t\t\t\t\t\t\ttitle="{jsonService>title}"\n\t\t\t\t\t\t\t\t\t\t\t\ttext="{jsonService>text}"\n\t\t\t\t\t\t\t\t\t\t\t\tstartDate="{model: \'jsonService\', path: \'startDate\', formatter: \'.formatDateString\'}"\n\t\t\t\t\t\t\t\t\t\t\t\tendDate="{model: \'jsonService\', path: \'endDate\', formatter: \'.formatDateString\'}"\n\t\t\t\t\t\t\t\t\t\t\t\ticon="{jsonService>icon}"\n                                                selected="{jsonService>selected}"\n\t\t\t\t\t\t\t\t\t\t\t\ttentative="{jsonService>tentative}"\n\t\t\t\t\t\t\t\t\t\t\t\ttype="{jsonService>type}"\n                                                tooltip="{i18n>tooltipAppointment}"\n                                                dragDropConfig="{enabled: false}"></unified:CalendarAppointment></appointments></PlanningCalendarRow></rows><specialDates><unified:DateTypeRange\n                                        startDate="{model: \'mainService\', path: \'Workdate\', formatter: \'.formatSpecialDateStartDate\'}"\n                                        endDate="{model: \'mainService\', path: \'Workdate\', formatter: \'.formatSpecialDateEndDate\'}"\n                                        type="Type02"></unified:DateTypeRange></specialDates></PlanningCalendar></VBox></content></Page></pages></App></Shell></mvc:View>\n',
	"zfioritimesheet3/zfioritimesheet3n/view/ViewManager.view.xml":'<mvc:View\n    controllerName="zfioritimesheet3.zfioritimesheet3n.controller.ViewManager"\n    xmlns="sap.m"\n\txmlns:core="sap.ui.core"\n    xmlns:html="http://www.w3.org/1999/xhtml"\n    xmlns:mvc="sap.ui.core.mvc"\n\txmlns:unified="sap.ui.unified"\n    displayBlock="true"\n    height="100%"><html:style>\n        .sapUiCalendarAppDummy {\n            visibility: hidden !important;\n        }\n    </html:style><Shell id="shellManager"><App id="appManager"><pages><Page\n                    id="pageManager"\n                    title="{i18n>viewManagerTitle}"\n                    showHeader="true"\n                    enableScrolling="true"\n                    showNavButton="true"\n                    navButtonPress="onNavBack"><content><VBox\n\t\t\t\t\t\t\tid="vboxPlanCaleTeam"\n\t\t\t\t\t\t\tclass="sapUiTinyMargin"><PlanningCalendar\n\t\t\t\t\t\t\t\tid="planCaleTeam"\n\t\t\t\t\t\t\t\trows="{model: \'jsonManagerService\', path: \'/people\', templateShareable: true}"\n\t\t\t\t\t\t\t\tappointmentsVisualization="Filled"\n                                builtInViews="Hour,Day,Week"\n\t\t\t\t\t\t\t\tshowDayNamesLine="false"\n\t\t\t\t\t\t\t\tshowEmptyIntervalHeaders="true"\n\t\t\t\t\t\t\t\tshowIntervalHeaders="true"\n\t\t\t\t\t\t\t\tshowRowHeaders="true"\n\t\t\t\t\t\t\t\tshowWeekNumbers="true"\n                                stickyHeader="true"\n                                height="auto"\n\t\t\t\t\t\t\t\twidth="auto"\n                                appointmentSelect="handlePlanCaleTeamAppoSele"\n                                intervalSelect="handleTeamAppointmentAddWithContext"><toolbarContent><Label\n\t\t\t\t\t\t\t\t\t\tid="labelTeamAuthLevel"\n\t\t\t\t\t\t\t\t\t\ttext="{i18n>labelAuthLevel}"\n\t\t\t\t\t\t\t\t\t\ttextAlign="Begin"\n\t\t\t\t\t\t\t\t\t\twrapping="true"\n\t\t\t\t\t\t\t\t\t\tlabelFor="inputNoEditAuthLevel"\n\t\t\t\t\t\t\t\t\t\twidth="auto"/><Input\n\t\t\t\t\t\t\t\t\t\tid="inputTeamNoEditAuthLevel"\n\t\t\t\t\t\t\t\t\t\ttype="Text"\n                                        value="{= ${jsonService>/people/0/manager} === true ? ${i18n>authManager} : ${i18n>authMember}}"\n\t\t\t\t\t\t\t\t\t\tplaceholder="---"\n\t\t\t\t\t\t\t\t\t\tenabled="true"\n\t\t\t\t\t\t\t\t\t\teditable="false"\n\t\t\t\t\t\t\t\t\t\twidth="auto"/><Button\n\t\t\t\t\t\t\t\t\t\tid="btnTeamWbs"\n\t\t\t\t\t\t\t\t\t\ttype="Ghost"\n\t\t\t\t\t\t\t\t\t\ttext="{i18n>textBtnWbs}"\n\t\t\t\t\t\t\t\t\t\ttooltip="{i18n>tooltipBtnWbs}"\n\t\t\t\t\t\t\t\t\t\tpress="onPressBtnWbs"><customData><core:CustomData\n                                                key="multi"\n                                                value="true"/></customData></Button><Button\n\t\t\t\t\t\t\t\t\t\tid="btnTeamDays"\n\t\t\t\t\t\t\t\t\t\ttype="Ghost"\n\t\t\t\t\t\t\t\t\t\ttext="{i18n>textBtnDays}"\n\t\t\t\t\t\t\t\t\t\ttooltip="{i18n>tooltipBtnDays}"\n\t\t\t\t\t\t\t\t\t\tpress="onPressBtnTeamDays"/><Button\n\t\t\t\t\t\t\t\t\t\tid="btnTeamAddAppointment"\n\t\t\t\t\t\t\t\t\t\ttype="Ghost"\n\t\t\t\t\t\t\t\t\t\ticon="sap-icon://add"\n\t\t\t\t\t\t\t\t\t\ttooltip="{i18n>toolitipBtnAddAppointment}"\n\t\t\t\t\t\t\t\t\t\tpress="onPressBtnTeamAddAppointment"/></toolbarContent><rows><PlanningCalendarRow\n                                        key="{jsonManagerService>key}"\n                                        title="{jsonManagerService>title}"\n                                        text="{jsonManagerService>text}"\n                                        icon="{jsonManagerService>icon}"\n                                        appointments="{model: \'jsonManagerService\', path: \'appointments\', templateShareable: false}"\n                                        enableAppointmentsCreate="true"\n                                        enableAppointmentsDragAndDrop="false"\n                                        enableAppointmentsResize="true"\n                                        appointmentCreate="onPlanCaleTeamCreate"\n                                        appointmentDragEnter="onPlanCaleTeamDragEnter"\n                                        appointmentResize="onPlanCaleTeamResize"><appointments><unified:CalendarAppointment\n\t\t\t\t\t\t\t\t\t\t\t\tkey="{jsonManagerService>key}"\n\t\t\t\t\t\t\t\t\t\t\t\ttitle="{jsonManagerService>title}"\n\t\t\t\t\t\t\t\t\t\t\t\ttext="{jsonManagerService>text}"\n\t\t\t\t\t\t\t\t\t\t\t\tstartDate="{model: \'jsonManagerService\', path: \'startDate\', formatter: \'.formatDateString\'}"\n\t\t\t\t\t\t\t\t\t\t\t\tendDate="{model: \'jsonManagerService\', path: \'endDate\', formatter: \'.formatDateString\'}"\n\t\t\t\t\t\t\t\t\t\t\t\ticon="{jsonManagerService>icon}"\n                                                selected="{jsonManagerService>selected}"\n\t\t\t\t\t\t\t\t\t\t\t\ttentative="{jsonManagerService>tentative}"\t\t\t\t\t\n\t\t\t\t\t\t\t\t\t\t\t\ttype="{jsonManagerService>type}"\n                                                tooltip="{i18n>tooltipAppointment}"\n                                                dragDropConfig="{enabled: false}"></unified:CalendarAppointment></appointments></PlanningCalendarRow></rows></PlanningCalendar></VBox></content></Page></pages></App></Shell></mvc:View>\n'
}});
